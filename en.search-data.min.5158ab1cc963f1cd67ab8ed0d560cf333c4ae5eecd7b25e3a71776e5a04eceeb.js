'use strict';(function(){const indexCfg={cache:true};indexCfg.doc={id:'id',field:['title','content'],store:['title','href','section'],};const index=FlexSearch.create('balance',indexCfg);window.bookSearchIndex=index;index.add({'id':0,'href':'/docs/example/','title':"Example Site",'section':"Docs",'content':"Introduction #  Ferre hinnitibus erat accipitrem dixi Troiae tollens #  Lorem markdownum, a quoque nutu est quodcumque mandasset veluti. Passim inportuna totidemque nympha fert; repetens pendent, poenarum guttura sed vacet non, mortali undas. Omnis pharetramque gramen portentificisque membris servatum novabis fallit de nubibus atque silvas mihi. Dixit repetitaque Quid; verrit longa; sententia mandat quascumque nescio solebat litore; noctes. Hostem haerentem circuit plenaque tamen.\n Pedum ne indigenae finire invergens carpebat Velit posses summoque De fumos illa foret  Est simul fameque tauri qua ad #  Locum nullus nisi vomentes. Ab Persea sermone vela, miratur aratro; eandem Argolicas gener.\nMe sol #  Nec dis certa fuit socer, Nonacria dies manet tacitaque sibi? Sucis est iactata Castrumque iudex, et iactato quoque terraeque es tandem et maternos vittis. Lumina litus bene poenamque animos callem ne tuas in leones illam dea cadunt genus, et pleno nunc in quod. Anumque crescentesque sanguinis progenies nuribus rustica tinguet. Pater omnes liquido creditis noctem.\nif (mirrored(icmp_dvd_pim, 3, smbMirroredHard) != lion(clickImportQueue, viralItunesBalancing, bankruptcy_file_pptp)) { file += ip_cybercrime_suffix; } if (runtimeSmartRom == netMarketingWord) { virusBalancingWin *= scriptPromptBespoke + raster(post_drive, windowsSli); cd = address_hertz_trojan; soap_ccd.pcbServerGigahertz(asp_hardware_isa, offlinePeopleware, nui); } else { megabyte.api = modem_flowchart - web + syntaxHalftoneAddress; } if (3 \u0026lt; mebibyteNetworkAnimated) { pharming_regular_error *= jsp_ribbon + algorithm * recycleMediaKindle( dvrSyntax, cdma); adf_sla *= hoverCropDrive; templateNtfs = -1 - vertical; } else { expressionCompressionVariable.bootMulti = white_eup_javascript( table_suffix); guidPpiPram.tracerouteLinux += rtfTerabyteQuicktime(1, managementRosetta(webcamActivex), 740874); } var virusTweetSsl = nullGigo;  Trepident sitimque #  Sentiet et ferali errorem fessam, coercet superbus, Ascaniumque in pennis mediis; dolor? Vidit imi Aeacon perfida propositos adde, tua Somni Fluctibus errante lustrat non.\nTamen inde, vos videt e flammis Scythica parantem rupisque pectora umbras. Haec ficta canistris repercusso simul ego aris Dixit! Esse Fama trepidare hunc crescendo vigor ululasse vertice exspatiantur celer tepidique petita aversata oculis iussa est me ferro.\n"});index.add({'id':1,'href':'/docs/example/table-of-contents/with-toc/','title':"With ToC",'section':"Table of Contents",'content':"Caput vino delphine in tamen vias #  Cognita laeva illo fracta #  Lorem markdownum pavent auras, surgit nunc cingentibus libet Laomedonque que est. Pastor An arbor filia foedat, ne fugit aliter, per. Helicona illas et callida neptem est Oresitrophos caput, dentibus est venit. Tenet reddite famuli praesentem fortibus, quaeque vis foret si frondes gelidos gravidae circumtulit inpulit armenta nativum.\n Te at cruciabere vides rubentis manebo Maturuit in praetemptat ruborem ignara postquam habitasse Subitarum supplevit quoque fontesque venabula spretis modo Montis tot est mali quasque gravis Quinquennem domus arsit ipse Pellem turis pugnabant locavit  Natus quaerere #  Pectora et sine mulcere, coniuge dum tincta incurvae. Quis iam; est dextra Peneosque, metuis a verba, primo. Illa sed colloque suis: magno: gramen, aera excutiunt concipit.\n Phrygiae petendo suisque extimuit, super, pars quod audet! Turba negarem. Fuerat attonitus; et dextra retinet sidera ulnas undas instimulat vacuae generis? Agnus dabat et ignotis dextera, sic tibi pacis feriente at mora euhoeque comites hostem vestras Phineus. Vultuque sanguine dominoque metuit risi fama vergit summaque meus clarissimus artesque tinguebat successor nominis cervice caelicolae.\n Limitibus misere sit #  Aurea non fata repertis praerupit feruntur simul, meae hosti lentaque citius levibus, cum sede dixit, Phaethon texta. Albentibus summos multifidasque iungitur loquendi an pectore, mihi ursaque omnia adfata, aeno parvumque in animi perlucentes. Epytus agis ait vixque clamat ornum adversam spondet, quid sceptra ipsum est. Reseret nec; saeva suo passu debentia linguam terga et aures et cervix de ubera. Coercet gelidumque manus, doluit volvitur induta?\nEnim sua #  Iuvenilior filia inlustre templa quidem herbis permittat trahens huic. In cruribus proceres sole crescitque fata, quos quos; merui maris se non tamen in, mea.\nGermana aves pignus tecta #  Mortalia rudibusque caelum cognosceret tantum aquis redito felicior texit, nec, aris parvo acre. Me parum contulerant multi tenentem, gratissime suis; vultum tu occupat deficeret corpora, sonum. E Actaea inplevit Phinea concepit nomenque potest sanguine captam nulla et, in duxisses campis non; mercede. Dicere cur Leucothoen obitum?\nPostibus mittam est nubibus principium pluma, exsecratur facta et. Iunge Mnemonidas pallamque pars; vere restitit alis flumina quae quoque, est ignara infestus Pyrrha. Di ducis terris maculatum At sede praemia manes nullaque!\n"});index.add({'id':2,'href':'/docs/example/table-of-contents/without-toc/','title':"Without ToC",'section':"Table of Contents",'content':"At me ipso nepotibus nunc celebratior genus #  Tanto oblite #  Lorem markdownum pectora novis patenti igne sua opus aurae feras materiaque illic demersit imago et aristas questaque posset. Vomit quoque suo inhaesuro clara. Esse cumque, per referri triste. Ut exponit solisque communis in tendens vincetis agisque iamque huic bene ante vetat omina Thebae rates. Aeacus servat admonitu concidit, ad resimas vultus et rugas vultu dignamque Siphnon.\nQuam iugulum regia simulacra, plus meruit humo pecorumque haesit, ab discedunt dixit: ritu pharetramque. Exul Laurenti orantem modo, per densum missisque labor manibus non colla unum, obiectat. Tu pervia collo, fessus quae Cretenque Myconon crate! Tegumenque quae invisi sudore per vocari quaque plus ventis fluidos. Nodo perque, fugisse pectora sorores.\nSumme promissa supple vadit lenius #  Quibus largis latebris aethera versato est, ait sentiat faciemque. Aequata alis nec Caeneus exululat inclite corpus est, ire tibi ostendens et tibi. Rigent et vires dique possent lumina; eadem dixit poma funeribus paret et felix reddebant ventis utile lignum.\n Remansit notam Stygia feroxque Et dabit materna Vipereas Phrygiaeque umbram sollicito cruore conlucere suus Quarum Elis corniger Nec ieiunia dixit  Vertitur mos ortu ramosam contudit dumque; placabat ac lumen. Coniunx Amoris spatium poenamque cavernis Thebae Pleiadasque ponunt, rapiare cum quae parum nimium rima.\nQuidem resupinus inducto solebat una facinus quae #  Credulitas iniqua praepetibus paruit prospexit, voce poena, sub rupit sinuatur, quin suum ventorumque arcadiae priori. Soporiferam erat formamque, fecit, invergens, nymphae mutat fessas ait finge.\n Baculum mandataque ne addere capiti violentior Altera duas quam hoc ille tenues inquit Sicula sidereus latrantis domoque ratae polluit comites Possit oro clausura namque se nunc iuvenisque Faciem posuit Quodque cum ponunt novercae nata vestrae aratra  Ite extrema Phrygiis, patre dentibus, tonso perculit, enim blanda, manibus fide quos caput armis, posse! Nocendo fas Alcyonae lacertis structa ferarum manus fulmen dubius, saxa caelum effuge extremis fixum tumor adfecit bella, potentes? Dum nec insidiosa tempora tegit spirarunt. Per lupi pars foliis, porreximus humum negant sunt subposuere Sidone steterant auro. Memoraverit sine: ferrum idem Orion caelum heres gerebat fixis?\n"});index.add({'id':3,'href':'/docs/example/table-of-contents/','title':"Table of Contents",'section':"Example Site",'content':"Ubi loqui #  Mentem genus facietque salire tempus bracchia #  Lorem markdownum partu paterno Achillem. Habent amne generosi aderant ad pellem nec erat sustinet merces columque haec et, dixit minus nutrit accipiam subibis subdidit. Temeraria servatum agros qui sed fulva facta. Primum ultima, dedit, suo quisque linguae medentes fixo: tum petis.\nRapit vocant si hunc siste adspice #  Ora precari Patraeque Neptunia, dixit Danae Cithaeron armaque maxima in nati Coniugis templis fluidove. Effugit usus nec ingreditur agmen ac manus conlato. Nullis vagis nequiquam vultibus aliquos altera suum venis teneas fretum. Armos remotis hoc sine ferrea iuncta quam!\nLocus fuit caecis #  Nefas discordemque domino montes numen tum humili nexilibusque exit, Iove. Quae miror esse, scelerisque Melaneus viribus. Miseri laurus. Hoc est proposita me ante aliquid, aura inponere candidioribus quidque accendit bella, sumpta. Intravit quam erat figentem hunc, motus de fontes parvo tempestate.\niscsi_virus = pitch(json_in_on(eupViral), northbridge_services_troubleshooting, personal( firmware_rw.trash_rw_crm.device(interactive_gopher_personal, software, -1), megabit, ergonomicsSoftware(cmyk_usb_panel, mips_whitelist_duplex, cpa))); if (5) { managementNetwork += dma - boolean; kilohertz_token = 2; honeypot_affiliate_ergonomics = fiber; } mouseNorthbridge = byte(nybble_xmp_modem.horse_subnet( analogThroughputService * graphicPoint, drop(daw_bit, dnsIntranet), gateway_ospf), repository.domain_key.mouse(serverData(fileNetwork, trim_duplex_file), cellTapeDirect, token_tooltip_mashup( ripcordingMashup))); module_it = honeypot_driver(client_cold_dvr(593902, ripping_frequency) + coreLog.joystick(componentUdpLink), windows_expansion_touchscreen); bashGigabit.external.reality(2, server_hardware_codec.flops.ebookSampling( ciscNavigationBacklink, table + cleanDriver), indexProtocolIsp);  Placabilis coactis nega ingemuit ignoscat nimia non #  Frontis turba. Oculi gravis est Delphice; inque praedaque sanguine manu non.\nif (ad_api) { zif += usb.tiffAvatarRate(subnet, digital_rt) + exploitDrive; gigaflops(2 - bluetooth, edi_asp_memory.gopher(queryCursor, laptop), panel_point_firmware); spyware_bash.statePopApplet = express_netbios_digital( insertion_troubleshooting.brouter(recordFolderUs), 65); } recursionCoreRay = -5; if (hub == non) { portBoxVirus = soundWeb(recursive_card(rwTechnologyLeopard), font_radcab, guidCmsScalable + reciprocalMatrixPim); left.bug = screenshot; } else { tooltipOpacity = raw_process_permalink(webcamFontUser, -1); executable_router += tape; } if (tft) { bandwidthWeb *= social_page; } else { regular += 611883; thumbnail /= system_lag_keyboard; }  Caesorum illa tu sentit micat vestes papyriferi #  Inde aderam facti; Theseus vis de tauri illa peream. Oculos uberaque non regisque vobis cursuque, opus venit quam vulnera. Et maiora necemque, lege modo; gestanda nitidi, vero? Dum ne pectoraque testantur.\nVenasque repulsa Samos qui, exspectatum eram animosque hinc, aut manes, Assyrii. Cupiens auctoribus pariter rubet, profana magni super nocens. Vos ius sibilat inpar turba visae iusto! Sedes ante dum superest extrema.\n"});index.add({'id':4,'href':'/docs/example/hidden/','title':"Hidden",'section':"Example Site",'content':"This page is hidden in menu #  Quondam non pater est dignior ille Eurotas #  Latent te facies #  Lorem markdownum arma ignoscas vocavit quoque ille texit mandata mentis ultimus, frementes, qui in vel. Hippotades Peleus pennas conscia cuiquam Caeneus quas.\n Pater demittere evincitque reddunt Maxime adhuc pressit huc Danaas quid freta Soror ego Luctus linguam saxa ultroque prior Tatiumque inquit Saepe liquitur subita superata dederat Anius sudor  Cum honorum Latona #  O fallor in sustinui iussorum equidem. Nymphae operi oris alii fronde parens dumque, in auro ait mox ingenti proxima iamdudum maius?\nreality(burnDocking(apache_nanometer), pad.property_data_programming.sectorBrowserPpga(dataMask, 37, recycleRup)); intellectualVaporwareUser += -5 * 4; traceroute_key_upnp /= lag_optical(android.smb(thyristorTftp)); surge_host_golden = mca_compact_device(dual_dpi_opengl, 33, commerce_add_ppc); if (lun_ipv) { verticalExtranet(1, thumbnail_ttl, 3); bar_graphics_jpeg(chipset - sector_xmp_beta); }  Fronde cetera dextrae sequens pennis voce muneris #  Acta cretus diem restet utque; move integer, oscula non inspirat, noctisque scelus! Nantemque in suas vobis quamvis, et labori!\nvar runtimeDiskCompiler = home - array_ad_software; if (internic \u0026gt; disk) { emoticonLockCron += 37 + bps - 4; wan_ansi_honeypot.cardGigaflops = artificialStorageCgi; simplex -= downloadAccess; } var volumeHardeningAndroid = pixel + tftp + onProcessorUnmount; sector(memory(firewire + interlaced, wired)); "});index.add({'id':5,'href':'/docs/shortcodes/section/','title':"Section",'section':"Shortcodes",'content':"Section #  Section renders pages in section as definition list, using title and description.\nExample #  {{\u0026lt; section \u0026gt;}}   Page1     Page2     "});index.add({'id':6,'href':'/Capacitacoes/R/Aula1/','title':"Aula 1 - ggplot",'section':"Capacitacoes",'content':"\r\rknitr::opts_chunk$set(warning = FALSE, message = FALSE, error = FALSE)\r# install.packages(\u0026#39;tidyverse\u0026#39;)\r# install.packages(\u0026#39;gapminder\u0026#39;)\r# install.packages(\u0026#39;ggthemes\u0026#39;)\rlibrary(gapminder)\rlibrary(tidyverse)\rlibrary(ggthemes)\rgap \u0026lt;- filter(gapminder, year == 1997)\rggplot(data = gap) +\rgeom_point(mapping = aes(x = gdpPercap, y = lifeExp))\rggplot(data = gap) +\rgeom_point(mapping = aes(x = gdpPercap, y = lifeExp, color = continent))\rggplot(data = gap) +\rgeom_point(mapping = aes(x = gdpPercap, y = lifeExp, color = continent, size = pop)) +\rscale_x_log10()\rggplot(data = gap) +\rgeom_text(mapping = aes(x = gdpPercap, y = lifeExp, color = continent, size = pop,\rlabel = country)) +\rscale_x_log10()\rggplot(data = gap) +\rgeom_text(mapping = aes(x = gdpPercap, y = lifeExp, color = continent, size = pop,\rlabel = country)) +\rscale_x_log10()\rggplot(data = gap, mapping = aes(x = gdpPercap, y = lifeExp)) +\rgeom_point(mapping = aes(color = continent, size = pop)) +\rscale_x_log10() +\rgeom_smooth(se = FALSE, method = lm, mapping = aes(color = continent))\rggplot(data = gap, mapping = aes(x = gdpPercap, y = lifeExp)) +\rgeom_point(mapping = aes(color = continent, size = pop)) +\rscale_x_log10() +\rgeom_smooth(se = FALSE, method = lm, mapping = aes(group = continent), color = \u0026quot;black\u0026quot;)\rggplot(data = gap, mapping = aes(x = gdpPercap, y = lifeExp)) +\rgeom_point(mapping = aes(color = continent, size = pop)) +\rscale_x_log10() +\rgeom_smooth(se = FALSE, method = lm, mapping = aes(color = continent)) +\rfacet_wrap(vars(continent), scales = \u0026quot;free\u0026quot;)\rggplot(data = gap, mapping = aes(x = gdpPercap, y = lifeExp)) +\rgeom_point(mapping = aes(color = continent, size = pop)) +\rscale_x_log10() +\rgeom_smooth(se = FALSE, method = lm, mapping = aes(group = continent), color = \u0026quot;black\u0026quot;) +\rtheme_bw()\rggplot(data = gap, mapping = aes(x = gdpPercap, y = lifeExp)) +\rgeom_point(mapping = aes(color = continent, size = pop)) +\rscale_x_log10() +\rgeom_smooth(se = FALSE, method = lm, mapping = aes(color = continent)) +\rfacet_wrap(vars(continent), scales = \u0026quot;free\u0026quot;) +\rtheme_stata()\r"});index.add({'id':7,'href':'/Capacitacoes/R/Aula2/','title':"Aula2",'section':"Capacitacoes",'content':"Expressões Regulares #  Resumo: #  Coringa: .\nÂncoras: ^ $\nEspeciais: \\d \\s \\b \\w\nGrupos: [abc] [^abc]\nAlternativas: (ba|ca)\nQuantificadores: ?, +, *, {n,m}, {n,m}? (lazy matching)\nAgrupamentos: ( )\nBackreference: (..)\\\\1\nPuxando o Tidyverse #  library(tidyverse) ## Warning: package 'tidyverse' was built under R version 4.0.3\r## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --\r## v ggplot2 3.3.2 v purrr 0.3.4\r## v tibble 3.0.4 v dplyr 1.0.2\r## v tidyr 1.1.2 v stringr 1.4.0\r## v readr 1.4.0 v forcats 0.5.0\r## Warning: package 'tibble' was built under R version 4.0.3\r## Warning: package 'readr' was built under R version 4.0.3\r## -- Conflicts ------------------------------------------ tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rlibrary(stringi) ## Warning: package 'stringi' was built under R version 4.0.3\rIdeias básicas relacionadas a \u0026ldquo;strings\u0026rdquo; (cadeias de caracteres) #  Preferencialmente usaremos aspas (\u0026quot;\u0026quot; ao invés do apóstrofo \u0026lsquo;')\nstring1 \u0026lt;- \u0026#34;Uma string é uma cadeia de caracteres\u0026#34; cat(string1) ## Uma string é uma cadeia de caracteres\rstring2 \u0026lt;- \u0026#39;Exemplo de \u0026#34;aspas\u0026#34; dentro de uma string\u0026#39; cat(string2) ## Exemplo de \u0026quot;aspas\u0026quot; dentro de uma string\rstring3 \u0026lt;- \u0026#34;Exemplo de aspas \\\u0026#34;dentro\\\u0026#34; de uma string\u0026#34; cat(string3) ## Exemplo de aspas \u0026quot;dentro\u0026quot; de uma string\rx \u0026lt;- \u0026#34;\\u00b5\u0026#34; # UNICODE cat(x) ## µ\rTamanhos de strings #  x \u0026lt;- c(\u0026#34;a\u0026#34;, \u0026#34;R for Data Science\u0026#34;, NA) str_length(x) # retorna o tamanho de cada string ## [1] 1 18 NA\rlength(x) # retorna o tamanho do vetor ## [1] 3\rCombinando strings #  str_c(\u0026#34;x\u0026#34;, \u0026#34;y\u0026#34;, \u0026#34;z\u0026#34;) # concatena strings ## [1] \u0026quot;xyz\u0026quot;\rstr_c(\u0026#34;x\u0026#34;, \u0026#34;y\u0026#34;, \u0026#34;z\u0026#34;, sep = \u0026#34; : \u0026#34;) ## [1] \u0026quot;x : y : z\u0026quot;\rx \u0026lt;- c(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;) y \u0026lt;- c(\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;) str_c(x, y) # concatena de forma vetorizada ## [1] \u0026quot;aA\u0026quot; \u0026quot;bB\u0026quot; \u0026quot;cC\u0026quot;\rstr_c(x, y, sep = \u0026#34; - \u0026#34;) ## [1] \u0026quot;a - A\u0026quot; \u0026quot;b - B\u0026quot; \u0026quot;c - C\u0026quot;\rstr_c(x, y, sep = \u0026#34; - \u0026#34;, collapse = \u0026#34; | \u0026#34;) # junta todos os vetores em uma string ## [1] \u0026quot;a - A | b - B | c - C\u0026quot;\rx \u0026lt;- c(\u0026#34;a\u0026#34;, NA, \u0026#34;c\u0026#34;) y \u0026lt;- c(\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;) str_c(x, y, sep = \u0026#34; - \u0026#34;) ## [1] \u0026quot;a - A\u0026quot; NA \u0026quot;c - C\u0026quot;\rstr_c(str_replace_na(x), y, sep = \u0026#34; - \u0026#34;) # substitui o valor NA pela string \u0026#34;NA\u0026#34; ## [1] \u0026quot;a - A\u0026quot; \u0026quot;NA - B\u0026quot; \u0026quot;c - C\u0026quot;\rSubstrings #  x \u0026lt;- c(\u0026#34;Apple\u0026#34;, \u0026#34;Banana\u0026#34;, \u0026#34;Pear\u0026#34;) str_sub(x, 1, 3) ## [1] \u0026quot;App\u0026quot; \u0026quot;Ban\u0026quot; \u0026quot;Pea\u0026quot;\rstr_sub(x, 1, 3) \u0026lt;- \u0026#34;***\u0026#34; # substitui as primeiras letras x ## [1] \u0026quot;***le\u0026quot; \u0026quot;***ana\u0026quot; \u0026quot;***r\u0026quot;\rPadrões via Expressões Regulares #  x \u0026lt;- c(\u0026#34;apple\u0026#34;, \u0026#34;banana\u0026#34;, \u0026#34;pear\u0026#34;) str_view(x, \u0026#34;an\u0026#34;) # ajuda a estudar as expressões regulares \r{\"x\":{\"html\":\"\\n apple\\n banana\\n pear\\n\"},\"evals\":[],\"jsHooks\":[]}\rCoringa: . #  . corresponde a qualquer caractere, com exceção da quebra de linha\nstr_view(x, \u0026#34;.a.\u0026#34;) \r{\"x\":{\"html\":\"\\n apple\\n banana\\n pear\\n\"},\"evals\":[],\"jsHooks\":[]}\rdistinção de coringa e \u0026ldquo;.\u0026rdquo; \u0026ndash;\u0026gt; \\.\nstr_view(c(\u0026#34;.bc\u0026#34;, \u0026#34;a.c\u0026#34;, \u0026#34;ab.\u0026#34;), \u0026#34;\\\\.\u0026#34;) \r{\"x\":{\"html\":\"\\n .bc\\n a.c\\n ab.\\n\"},\"evals\":[],\"jsHooks\":[]}\rÂncoras: ^ para começo e $ para o final da string #  str_view(x, \u0026#34;^a\u0026#34;) # indica que o caractere deve estar no começo da string \r{\"x\":{\"html\":\"\\n apple\\n banana\\n pear\\n\"},\"evals\":[],\"jsHooks\":[]}\rstr_view(x, \u0026#34;r$\u0026#34;) # indica que o caractere deve estar no final da string \r{\"x\":{\"html\":\"\\n apple\\n banana\\n pear\\n\"},\"evals\":[],\"jsHooks\":[]}\rO tidyverse tem uma base com 1000 palavras para aprendizado!\n# stringr::words head(words, 100) ## [1] \u0026quot;a\u0026quot; \u0026quot;able\u0026quot; \u0026quot;about\u0026quot; \u0026quot;absolute\u0026quot; \u0026quot;accept\u0026quot; ## [6] \u0026quot;account\u0026quot; \u0026quot;achieve\u0026quot; \u0026quot;across\u0026quot; \u0026quot;act\u0026quot; \u0026quot;active\u0026quot; ## [11] \u0026quot;actual\u0026quot; \u0026quot;add\u0026quot; \u0026quot;address\u0026quot; \u0026quot;admit\u0026quot; \u0026quot;advertise\u0026quot; ## [16] \u0026quot;affect\u0026quot; \u0026quot;afford\u0026quot; \u0026quot;after\u0026quot; \u0026quot;afternoon\u0026quot; \u0026quot;again\u0026quot; ## [21] \u0026quot;against\u0026quot; \u0026quot;age\u0026quot; \u0026quot;agent\u0026quot; \u0026quot;ago\u0026quot; \u0026quot;agree\u0026quot; ## [26] \u0026quot;air\u0026quot; \u0026quot;all\u0026quot; \u0026quot;allow\u0026quot; \u0026quot;almost\u0026quot; \u0026quot;along\u0026quot; ## [31] \u0026quot;already\u0026quot; \u0026quot;alright\u0026quot; \u0026quot;also\u0026quot; \u0026quot;although\u0026quot; \u0026quot;always\u0026quot; ## [36] \u0026quot;america\u0026quot; \u0026quot;amount\u0026quot; \u0026quot;and\u0026quot; \u0026quot;another\u0026quot; \u0026quot;answer\u0026quot; ## [41] \u0026quot;any\u0026quot; \u0026quot;apart\u0026quot; \u0026quot;apparent\u0026quot; \u0026quot;appear\u0026quot; \u0026quot;apply\u0026quot; ## [46] \u0026quot;appoint\u0026quot; \u0026quot;approach\u0026quot; \u0026quot;appropriate\u0026quot; \u0026quot;area\u0026quot; \u0026quot;argue\u0026quot; ## [51] \u0026quot;arm\u0026quot; \u0026quot;around\u0026quot; \u0026quot;arrange\u0026quot; \u0026quot;art\u0026quot; \u0026quot;as\u0026quot; ## [56] \u0026quot;ask\u0026quot; \u0026quot;associate\u0026quot; \u0026quot;assume\u0026quot; \u0026quot;at\u0026quot; \u0026quot;attend\u0026quot; ## [61] \u0026quot;authority\u0026quot; \u0026quot;available\u0026quot; \u0026quot;aware\u0026quot; \u0026quot;away\u0026quot; \u0026quot;awful\u0026quot; ## [66] \u0026quot;baby\u0026quot; \u0026quot;back\u0026quot; \u0026quot;bad\u0026quot; \u0026quot;bag\u0026quot; \u0026quot;balance\u0026quot; ## [71] \u0026quot;ball\u0026quot; \u0026quot;bank\u0026quot; \u0026quot;bar\u0026quot; \u0026quot;base\u0026quot; \u0026quot;basis\u0026quot; ## [76] \u0026quot;be\u0026quot; \u0026quot;bear\u0026quot; \u0026quot;beat\u0026quot; \u0026quot;beauty\u0026quot; \u0026quot;because\u0026quot; ## [81] \u0026quot;become\u0026quot; \u0026quot;bed\u0026quot; \u0026quot;before\u0026quot; \u0026quot;begin\u0026quot; \u0026quot;behind\u0026quot; ## [86] \u0026quot;believe\u0026quot; \u0026quot;benefit\u0026quot; \u0026quot;best\u0026quot; \u0026quot;bet\u0026quot; \u0026quot;between\u0026quot; ## [91] \u0026quot;big\u0026quot; \u0026quot;bill\u0026quot; \u0026quot;birth\u0026quot; \u0026quot;bit\u0026quot; \u0026quot;black\u0026quot; ## [96] \u0026quot;bloke\u0026quot; \u0026quot;blood\u0026quot; \u0026quot;blow\u0026quot; \u0026quot;blue\u0026quot; \u0026quot;board\u0026quot;\rstr_view(words, \u0026#34;w$\u0026#34;, match = TRUE) # só mostra as palavras com resultado \r{\"x\":{\"html\":\"\\n allow\\n blow\\n draw\\n few\\n follow\\n grow\\n how\\n know\\n law\\n low\\n new\\n now\\n show\\n slow\\n throw\\n tomorrow\\n view\\n window\\n\"},\"evals\":[],\"jsHooks\":[]}\rEspeciais: #  Um único dígito = \\d\nUm espaço, tab ou \u0026ldquo;newline\u0026rdquo; = \\s\nFinal de linha/quebra de linha = \\n\nGrupos: [abc] = a, b ou c; [^abc] = qualquer coisa, menos a, b ou c\n# palavras que terminam com \u0026#34;u\u0026#34; ou com \u0026#34;w\u0026#34; str_view(words, \u0026#34;[uw]$\u0026#34;, match = TRUE) \r{\"x\":{\"html\":\"\\n allow\\n blow\\n draw\\n few\\n follow\\n grow\\n how\\n know\\n law\\n low\\n new\\n now\\n show\\n slow\\n thou\\n throw\\n tomorrow\\n view\\n window\\n you\\n\"},\"evals\":[],\"jsHooks\":[]}\rAlternativas com ( | )\nx \u0026lt;- c(\u0026#34;amor\u0026#34;, \u0026#34;casa\u0026#34;, \u0026#34;amar\u0026#34;, \u0026#34;ame\u0026#34;) str_view(x, \u0026#34;am(a|o|e)\u0026#34;) \r{\"x\":{\"html\":\"\\n amor\\n casa\\n amar\\n ame\\n\"},\"evals\":[],\"jsHooks\":[]}\rrepetição (quantificadores)\n? = 0 ou 1; + = 1 ou mais; * = 0 ou mais\nx \u0026lt;- c(\u0026#34;XXXXYZ\u0026#34;, \u0026#34;XXYZZ\u0026#34;, \u0026#34;XXXZZZ\u0026#34;, \u0026#34;XXYY\u0026#34;) str_view(x, \u0026#34;X+YZ+\u0026#34;) \r{\"x\":{\"html\":\"\\n XXXXYZ\\n XXYZZ\\n XXXZZZ\\n XXYY\\n\"},\"evals\":[],\"jsHooks\":[]}\rstr_view(x, \u0026#34;X+Y?Z\u0026#34;) \r{\"x\":{\"html\":\"\\n XXXXYZ\\n XXYZZ\\n XXXZZZ\\n XXYY\\n\"},\"evals\":[],\"jsHooks\":[]}\rstr_view(x, \u0026#34;X+Y+Z*\u0026#34;) \r{\"x\":{\"html\":\"\\n XXXXYZ\\n XXYZZ\\n XXXZZZ\\n XXYY\\n\"},\"evals\":[],\"jsHooks\":[]}\rQuantificadores mais precisos:\n{n} = exatamente n\n{n,} = n ou mais\n{,m} = no máximo m\n{n,m} = entre n e m\nstr_view(x, \u0026#34;X{2,3}Y?Z{3}\u0026#34;) \r{\"x\":{\"html\":\"\\n XXXXYZ\\n XXYZZ\\n XXXZZZ\\n XXYY\\n\"},\"evals\":[],\"jsHooks\":[]}\rAvançado: lazy matching com {n,m}?\nstr_view(\u0026#34;aaaaa\u0026#34;, \u0026#34;a{2,5}\u0026#34;) \r{\"x\":{\"html\":\"\\n aaaaa\\n\"},\"evals\":[],\"jsHooks\":[]}\rstr_view(\u0026#34;aaaaa\u0026#34;, \u0026#34;a{2,5}?\u0026#34;) # parar no menor valor \r{\"x\":{\"html\":\"\\n aaaaa\\n\"},\"evals\":[],\"jsHooks\":[]}\rAgrupamentos e backreferences\nhead(fruit) ## [1] \u0026quot;apple\u0026quot; \u0026quot;apricot\u0026quot; \u0026quot;avocado\u0026quot; \u0026quot;banana\u0026quot; \u0026quot;bell pepper\u0026quot;\r## [6] \u0026quot;bilberry\u0026quot;\rstr_view(fruit, \u0026#34;(..)\\\\1\u0026#34;, match = TRUE) # dois caracteres quaisquer repetidos duas vezes \r{\"x\":{\"html\":\"\\n banana\\n coconut\\n cucumber\\n jujube\\n papaya\\n salal berry\\n\"},\"evals\":[],\"jsHooks\":[]}\rFerramenta: quais strings casam com o padrão?\nx \u0026lt;- c(\u0026#34;apple\u0026#34;, \u0026#34;banana\u0026#34;, \u0026#34;pear\u0026#34;) str_detect(x, \u0026#34;e\u0026#34;) # retorna fator de valores lógicos indicando se a string contém \u0026#34;e\u0026#34; ## [1] TRUE FALSE TRUE\rstr_detect(x, \u0026#34;e$\u0026#34;) ## [1] TRUE FALSE FALSE\rstr_detect(x, \u0026#34;(.)\\\\1\u0026#34;) ## [1] TRUE FALSE FALSE\rsum(str_detect(words, \u0026#34;^y\u0026#34;)) ## [1] 6\rsum(str_detect(words, \u0026#34;(.)\\\\1\u0026#34;)) ## [1] 157\rsum(str_detect(words, \u0026#34;([^aeiou])\\\\1[aeiou]\u0026#34;)) ## [1] 56\rExtrair as palavras que começam com \u0026ldquo;e\u0026rdquo; ou \u0026ldquo;y\u0026rdquo; e terminam com \u0026ldquo;t\u0026rdquo;\nstr_subset(words, \u0026#34;^[ey].*t$\u0026#34;) ## [1] \u0026quot;east\u0026quot; \u0026quot;eat\u0026quot; \u0026quot;effect\u0026quot; \u0026quot;eight\u0026quot; \u0026quot;elect\u0026quot; ## [6] \u0026quot;environment\u0026quot; \u0026quot;exact\u0026quot; \u0026quot;except\u0026quot; \u0026quot;exist\u0026quot; \u0026quot;expect\u0026quot; ## [11] \u0026quot;yet\u0026quot;\rstr_subset(words, \u0026#34;([^aeiou])\\\\1[aeiou]\u0026#34;) ## [1] \u0026quot;accept\u0026quot; \u0026quot;account\u0026quot; \u0026quot;affect\u0026quot; \u0026quot;afford\u0026quot; \u0026quot;allow\u0026quot; ## [6] \u0026quot;apparent\u0026quot; \u0026quot;appear\u0026quot; \u0026quot;appoint\u0026quot; \u0026quot;arrange\u0026quot; \u0026quot;associate\u0026quot; ## [11] \u0026quot;assume\u0026quot; \u0026quot;attend\u0026quot; \u0026quot;bottom\u0026quot; \u0026quot;brilliant\u0026quot; \u0026quot;coffee\u0026quot; ## [16] \u0026quot;colleague\u0026quot; \u0026quot;collect\u0026quot; \u0026quot;college\u0026quot; \u0026quot;comment\u0026quot; \u0026quot;commit\u0026quot; ## [21] \u0026quot;committee\u0026quot; \u0026quot;common\u0026quot; \u0026quot;community\u0026quot; \u0026quot;correct\u0026quot; \u0026quot;current\u0026quot; ## [26] \u0026quot;difference\u0026quot; \u0026quot;difficult\u0026quot; \u0026quot;dinner\u0026quot; \u0026quot;effect\u0026quot; \u0026quot;follow\u0026quot; ## [31] \u0026quot;happen\u0026quot; \u0026quot;hullo\u0026quot; \u0026quot;issue\u0026quot; \u0026quot;letter\u0026quot; \u0026quot;matter\u0026quot; ## [36] \u0026quot;million\u0026quot; \u0026quot;necessary\u0026quot; \u0026quot;occasion\u0026quot; \u0026quot;offer\u0026quot; \u0026quot;office\u0026quot; ## [41] \u0026quot;opportunity\u0026quot; \u0026quot;oppose\u0026quot; \u0026quot;possible\u0026quot; \u0026quot;pressure\u0026quot; \u0026quot;programme\u0026quot; ## [46] \u0026quot;recommend\u0026quot; \u0026quot;succeed\u0026quot; \u0026quot;sudden\u0026quot; \u0026quot;suggest\u0026quot; \u0026quot;summer\u0026quot; ## [51] \u0026quot;support\u0026quot; \u0026quot;suppose\u0026quot; \u0026quot;terrible\u0026quot; \u0026quot;tomorrow\u0026quot; \u0026quot;traffic\u0026quot; ## [56] \u0026quot;village\u0026quot;\rFilter strings\ntb \u0026lt;- tibble(word = words, pos = seq_along(words)) tb %\u0026gt;% filter(str_detect(word, \u0026#34;^[ey].*t$\u0026#34;)) ## # A tibble: 11 x 2\r## word pos\r## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt;\r## 1 east 254\r## 2 eat 256\r## 3 effect 259\r## 4 eight 261\r## 5 elect 263\r## 6 environment 275\r## 7 exact 284\r## 8 except 286\r## 9 exist 289\r## 10 expect 290\r## 11 yet 978\rNúmero de ocorrências de uma letra\nstr_count(x, \u0026#34;a\u0026#34;) ## [1] 1 3 1\rtb %\u0026gt;% mutate(vowels = str_count(word, \u0026#34;[aeiou]\u0026#34;), consonants = str_count(word, \u0026#34;[^aeiou]\u0026#34;)) ## # A tibble: 980 x 4\r## word pos vowels consonants\r## \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 a 1 1 0\r## 2 able 2 2 2\r## 3 about 3 3 2\r## 4 absolute 4 4 4\r## 5 accept 5 2 4\r## 6 account 6 3 4\r## 7 achieve 7 4 3\r## 8 across 8 2 4\r## 9 act 9 1 2\r## 10 active 10 3 3\r## # ... with 970 more rows\rFerramenta: como extrair os casamentos em cada string?\nhead(sentences) ## [1] \u0026quot;The birch canoe slid on the smooth planks.\u0026quot; ## [2] \u0026quot;Glue the sheet to the dark blue background.\u0026quot;\r## [3] \u0026quot;It's easy to tell the depth of a well.\u0026quot; ## [4] \u0026quot;These days a chicken leg is a rare dish.\u0026quot; ## [5] \u0026quot;Rice is often served in round bowls.\u0026quot; ## [6] \u0026quot;The juice of lemons makes fine punch.\u0026quot;\rhas_my_colors \u0026lt;- str_subset(sentences, \u0026#34; (red|green|blue) \u0026#34;) head(has_my_colors) ## [1] \u0026quot;Glue the sheet to the dark blue background.\u0026quot; ## [2] \u0026quot;Two blue fish swam in the tank.\u0026quot; ## [3] \u0026quot;A wisp of cloud hung in the blue air.\u0026quot; ## [4] \u0026quot;The spot on the blotter was made by green ink.\u0026quot;\r## [5] \u0026quot;The sofa cushion is red and of light weight.\u0026quot; ## [6] \u0026quot;A blue crane is a tall wading bird.\u0026quot;\rmatches \u0026lt;- str_extract(has_my_colors, \u0026#34; (red|green|blue) \u0026#34;) %\u0026gt;% str_trim() head(matches) ## [1] \u0026quot;blue\u0026quot; \u0026quot;blue\u0026quot; \u0026quot;blue\u0026quot; \u0026quot;green\u0026quot; \u0026quot;red\u0026quot; \u0026quot;blue\u0026quot;\rA primeira palavra de cada sentença\nstr_extract(sentences, \u0026#34;^[^ ]+\u0026#34;) ## [1] \u0026quot;The\u0026quot; \u0026quot;Glue\u0026quot; \u0026quot;It's\u0026quot; \u0026quot;These\u0026quot; \u0026quot;Rice\u0026quot; ## [6] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Four\u0026quot; \u0026quot;Large\u0026quot; ## [11] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Kick\u0026quot; \u0026quot;Help\u0026quot; ## [16] \u0026quot;A\u0026quot; \u0026quot;Smoky\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [21] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Press\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [26] \u0026quot;Two\u0026quot; \u0026quot;Her\u0026quot; \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;Read\u0026quot; ## [31] \u0026quot;Hoist\u0026quot; \u0026quot;Take\u0026quot; \u0026quot;Note\u0026quot; \u0026quot;Wipe\u0026quot; \u0026quot;Mend\u0026quot; ## [36] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;What\u0026quot; ## [41] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Sickness\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [46] \u0026quot;Lift\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Hop\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Mesh\u0026quot; ## [51] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Adding\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; ## [56] \u0026quot;The\u0026quot; \u0026quot;March\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Place\u0026quot; \u0026quot;Both\u0026quot; ## [61] \u0026quot;We\u0026quot; \u0026quot;Use\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; ## [66] \u0026quot;Cars\u0026quot; \u0026quot;The\u0026quot; \u0026quot;This\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Those\u0026quot; ## [71] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [76] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [81] \u0026quot;The\u0026quot; \u0026quot;See\u0026quot; \u0026quot;There\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [86] \u0026quot;The\u0026quot; \u0026quot;Cut\u0026quot; \u0026quot;Men\u0026quot; \u0026quot;Always\u0026quot; \u0026quot;He\u0026quot; ## [91] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [96] \u0026quot;Bail\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Ten\u0026quot; \u0026quot;The\u0026quot; ## [101] \u0026quot;Oak\u0026quot; \u0026quot;Cats\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Open\u0026quot; \u0026quot;Add\u0026quot; ## [106] \u0026quot;Thieves\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Act\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Move\u0026quot; ## [111] \u0026quot;The\u0026quot; \u0026quot;Leaves\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Split\u0026quot; \u0026quot;Burn\u0026quot; ## [116] \u0026quot;He\u0026quot; \u0026quot;Weave\u0026quot; \u0026quot;Hemp\u0026quot; \u0026quot;A\u0026quot; \u0026quot;We\u0026quot; ## [121] \u0026quot;Type\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Paste\u0026quot; ## [126] \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Feel\u0026quot; \u0026quot;The\u0026quot; ## [131] \u0026quot;A\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Pluck\u0026quot; \u0026quot;Two\u0026quot; \u0026quot;The\u0026quot; ## [136] \u0026quot;Bring\u0026quot; \u0026quot;Write\u0026quot; \u0026quot;Clothes\u0026quot; \u0026quot;We\u0026quot; \u0026quot;Port\u0026quot; ## [141] \u0026quot;The\u0026quot; \u0026quot;Guess\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;These\u0026quot; ## [146] \u0026quot;Pure\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Mud\u0026quot; \u0026quot;The\u0026quot; ## [151] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [156] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;We\u0026quot; \u0026quot;She\u0026quot; \u0026quot;The\u0026quot; ## [161] \u0026quot;The\u0026quot; \u0026quot;At\u0026quot; \u0026quot;Drop\u0026quot; \u0026quot;A\u0026quot; \u0026quot;An\u0026quot; ## [166] \u0026quot;Wood\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; ## [171] \u0026quot;Steam\u0026quot; \u0026quot;The\u0026quot; \u0026quot;There\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Torn\u0026quot; ## [176] \u0026quot;Sunday\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;They\u0026quot; \u0026quot;Add\u0026quot; ## [181] \u0026quot;Acid\u0026quot; \u0026quot;Fairy\u0026quot; \u0026quot;Eight\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; ## [186] \u0026quot;Add\u0026quot; \u0026quot;We\u0026quot; \u0026quot;There\u0026quot; \u0026quot;He\u0026quot; \u0026quot;She\u0026quot; ## [191] \u0026quot;The\u0026quot; \u0026quot;Corn\u0026quot; \u0026quot;Where\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Sell\u0026quot; ## [196] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Bring\u0026quot; \u0026quot;They\u0026quot; \u0026quot;Farmers\u0026quot; ## [201] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Float\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; ## [206] \u0026quot;The\u0026quot; \u0026quot;After\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Even\u0026quot; ## [211] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Do\u0026quot; \u0026quot;Lire\u0026quot; ## [216] \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;Write\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [221] \u0026quot;A\u0026quot; \u0026quot;Coax\u0026quot; \u0026quot;Schools\u0026quot; \u0026quot;The\u0026quot; \u0026quot;They\u0026quot; ## [226] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Jazz\u0026quot; \u0026quot;Rake\u0026quot; \u0026quot;Slash\u0026quot; ## [231] \u0026quot;Try\u0026quot; \u0026quot;They\u0026quot; \u0026quot;He\u0026quot; \u0026quot;They\u0026quot; \u0026quot;The\u0026quot; ## [236] \u0026quot;Whitings\u0026quot; \u0026quot;Some\u0026quot; \u0026quot;Jerk\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Madam,\u0026quot; ## [241] \u0026quot;On\u0026quot; \u0026quot;The\u0026quot; \u0026quot;This\u0026quot; \u0026quot;Add\u0026quot; \u0026quot;The\u0026quot; ## [246] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;To\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Jump\u0026quot; ## [251] \u0026quot;Yell\u0026quot; \u0026quot;They\u0026quot; \u0026quot;Both\u0026quot; \u0026quot;In\u0026quot; \u0026quot;The\u0026quot; ## [256] \u0026quot;The\u0026quot; \u0026quot;Ducks\u0026quot; \u0026quot;Fruit\u0026quot; \u0026quot;These\u0026quot; \u0026quot;Canned\u0026quot; ## [261] \u0026quot;The\u0026quot; \u0026quot;Carry\u0026quot; \u0026quot;The\u0026quot; \u0026quot;We\u0026quot; \u0026quot;Gray\u0026quot; ## [266] \u0026quot;The\u0026quot; \u0026quot;High\u0026quot; \u0026quot;Tea\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; ## [271] \u0026quot;The\u0026quot; \u0026quot;Find\u0026quot; \u0026quot;Cut\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Look\u0026quot; ## [276] \u0026quot;The\u0026quot; \u0026quot;Nine\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Soak\u0026quot; ## [281] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;All\u0026quot; \u0026quot;ii\u0026quot; \u0026quot;To\u0026quot; ## [286] \u0026quot;Shape\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Hedge\u0026quot; \u0026quot;Quench\u0026quot; \u0026quot;Tight\u0026quot; ## [291] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Watch\u0026quot; \u0026quot;The\u0026quot; ## [296] \u0026quot;The\u0026quot; \u0026quot;Write\u0026quot; \u0026quot;His\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Tin\u0026quot; ## [301] \u0026quot;Slide\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Pink\u0026quot; \u0026quot;She\u0026quot; ## [306] \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;Let's\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [311] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Paper\u0026quot; \u0026quot;The\u0026quot; ## [316] \u0026quot;The\u0026quot; \u0026quot;Screw\u0026quot; \u0026quot;Time\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Men\u0026quot; ## [321] \u0026quot;Fill\u0026quot; \u0026quot;He\u0026quot; \u0026quot;We\u0026quot; \u0026quot;Pack\u0026quot; \u0026quot;The\u0026quot; ## [326] \u0026quot;The\u0026quot; \u0026quot;Boards\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Glass\u0026quot; \u0026quot;Bathe\u0026quot; ## [331] \u0026quot;Nine\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Pages\u0026quot; ## [336] \u0026quot;Try\u0026quot; \u0026quot;Women\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Code\u0026quot; ## [341] \u0026quot;Most\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Mince\u0026quot; \u0026quot;The\u0026quot; ## [346] \u0026quot;Let\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Tack\u0026quot; \u0026quot;Next\u0026quot; ## [351] \u0026quot;Pour\u0026quot; \u0026quot;Each\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [356] \u0026quot;Just\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Our\u0026quot; \u0026quot;Brass\u0026quot; \u0026quot;It\u0026quot; ## [361] \u0026quot;Feed\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Plead\u0026quot; ## [366] \u0026quot;Better\u0026quot; \u0026quot;This\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Tend\u0026quot; ## [371] \u0026quot;It\u0026quot; \u0026quot;Mark\u0026quot; \u0026quot;Take\u0026quot; \u0026quot;The\u0026quot; \u0026quot;North\u0026quot; ## [376] \u0026quot;He\u0026quot; \u0026quot;Go\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Soap\u0026quot; \u0026quot;That\u0026quot; ## [381] \u0026quot;He\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Grape\u0026quot; \u0026quot;Roads\u0026quot; \u0026quot;Fake\u0026quot; ## [386] \u0026quot;The\u0026quot; \u0026quot;Smoke\u0026quot; \u0026quot;Serve\u0026quot; \u0026quot;Much\u0026quot; \u0026quot;The\u0026quot; ## [391] \u0026quot;Heave\u0026quot; \u0026quot;A\u0026quot; \u0026quot;It's\u0026quot; \u0026quot;His\u0026quot; \u0026quot;The\u0026quot; ## [396] \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;Beef\u0026quot; \u0026quot;Raise\u0026quot; \u0026quot;The\u0026quot; ## [401] \u0026quot;A\u0026quot; \u0026quot;Jerk\u0026quot; \u0026quot;No\u0026quot; \u0026quot;We\u0026quot; \u0026quot;The\u0026quot; ## [406] \u0026quot;The\u0026quot; \u0026quot;Three\u0026quot; \u0026quot;The\u0026quot; \u0026quot;No\u0026quot; \u0026quot;Grace\u0026quot; ## [411] \u0026quot;Nudge\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Once\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Fasten\u0026quot; ## [416] \u0026quot;A\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;There\u0026quot; ## [421] \u0026quot;Seed\u0026quot; \u0026quot;Draw\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Hats\u0026quot; ## [426] \u0026quot;The\u0026quot; \u0026quot;Beat\u0026quot; \u0026quot;Say\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Screen\u0026quot; ## [431] \u0026quot;This\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;These\u0026quot; \u0026quot;The\u0026quot; ## [436] \u0026quot;Twist\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Xew\u0026quot; \u0026quot;The\u0026quot; ## [441] \u0026quot;They\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Breakfast\u0026quot; \u0026quot;Bottles\u0026quot; ## [446] \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Drop\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Throw\u0026quot; ## [451] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [456] \u0026quot;Turn\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;To\u0026quot; \u0026quot;The\u0026quot; ## [461] \u0026quot;The\u0026quot; \u0026quot;Dispense\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;The\u0026quot; ## [466] \u0026quot;The\u0026quot; \u0026quot;Fly\u0026quot; \u0026quot;Thick\u0026quot; \u0026quot;Birth\u0026quot; \u0026quot;The\u0026quot; ## [471] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;We\u0026quot; \u0026quot;The\u0026quot; ## [476] \u0026quot;The\u0026quot; \u0026quot;We\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Five\u0026quot; \u0026quot;A\u0026quot; ## [481] \u0026quot;The\u0026quot; \u0026quot;Shut\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Crack\u0026quot; \u0026quot;He\u0026quot; ## [486] \u0026quot;Send\u0026quot; \u0026quot;A\u0026quot; \u0026quot;They\u0026quot; \u0026quot;The\u0026quot; \u0026quot;In\u0026quot; ## [491] \u0026quot;A\u0026quot; \u0026quot;Oats\u0026quot; \u0026quot;Their\u0026quot; \u0026quot;The\u0026quot; \u0026quot;There\u0026quot; ## [496] \u0026quot;Tuck\u0026quot; \u0026quot;A\u0026quot; \u0026quot;We\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Take\u0026quot; ## [501] \u0026quot;Shake\u0026quot; \u0026quot;She\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;We\u0026quot; ## [506] \u0026quot;Smile\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Take\u0026quot; \u0026quot;That\u0026quot; ## [511] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Ripe\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; ## [516] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;This\u0026quot; \u0026quot;She\u0026quot; \u0026quot;The\u0026quot; ## [521] \u0026quot;Press\u0026quot; \u0026quot;Neat\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [526] \u0026quot;Shake\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;His\u0026quot; \u0026quot;Flax\u0026quot; ## [531] \u0026quot;Hurdle\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Even\u0026quot; \u0026quot;Peep\u0026quot; \u0026quot;The\u0026quot; ## [536] \u0026quot;Cheap\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Flood\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; ## [541] \u0026quot;Those\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Dill\u0026quot; \u0026quot;Down\u0026quot; \u0026quot;Either\u0026quot; ## [546] \u0026quot;The\u0026quot; \u0026quot;If\u0026quot; \u0026quot;At\u0026quot; \u0026quot;Read\u0026quot; \u0026quot;Fill\u0026quot; ## [551] \u0026quot;The\u0026quot; \u0026quot;Clams\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Breathe\u0026quot; ## [556] \u0026quot;It\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; ## [561] \u0026quot;Paint\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Bribes\u0026quot; \u0026quot;Trample\u0026quot; \u0026quot;The\u0026quot; ## [566] \u0026quot;A\u0026quot; \u0026quot;Footprints\u0026quot; \u0026quot;She\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Prod\u0026quot; ## [571] \u0026quot;It\u0026quot; \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Wake\u0026quot; ## [576] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Hold\u0026quot; \u0026quot;Next\u0026quot; ## [581] \u0026quot;Every\u0026quot; \u0026quot;He\u0026quot; \u0026quot;They\u0026quot; \u0026quot;Drive\u0026quot; \u0026quot;Keep\u0026quot; ## [586] \u0026quot;Sever\u0026quot; \u0026quot;Paper\u0026quot; \u0026quot;Slide\u0026quot; \u0026quot;Help\u0026quot; \u0026quot;A\u0026quot; ## [591] \u0026quot;Stop\u0026quot; \u0026quot;Jerk\u0026quot; \u0026quot;Slidc\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Light\u0026quot; ## [596] \u0026quot;Set\u0026quot; \u0026quot;Dull\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Get\u0026quot; \u0026quot;Choose\u0026quot; ## [601] \u0026quot;A\u0026quot; \u0026quot;He\u0026quot; \u0026quot;There\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Greet\u0026quot; ## [606] \u0026quot;When\u0026quot; \u0026quot;Sweet\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Lush\u0026quot; ## [611] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Sit\u0026quot; \u0026quot;A\u0026quot; ## [616] \u0026quot;The\u0026quot; \u0026quot;Green\u0026quot; \u0026quot;Tea\u0026quot; \u0026quot;Pitch\u0026quot; \u0026quot;The\u0026quot; ## [621] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;She\u0026quot; ## [626] \u0026quot;The\u0026quot; \u0026quot;Loop\u0026quot; \u0026quot;Plead\u0026quot; \u0026quot;Calves\u0026quot; \u0026quot;Post\u0026quot; ## [631] \u0026quot;Tear\u0026quot; \u0026quot;A\u0026quot; \u0026quot;A\u0026quot; \u0026quot;It\u0026quot; \u0026quot;Crouch\u0026quot; ## [636] \u0026quot;Pack\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Fine\u0026quot; \u0026quot;Poached\u0026quot; \u0026quot;Bad\u0026quot; ## [641] \u0026quot;Ship\u0026quot; \u0026quot;Dimes\u0026quot; \u0026quot;They\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [646] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Pile\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [651] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [656] \u0026quot;To\u0026quot; \u0026quot;There\u0026quot; \u0026quot;Cod\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Dunk\u0026quot; ## [661] \u0026quot;Hang\u0026quot; \u0026quot;Cap\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Be\u0026quot; \u0026quot;Pick\u0026quot; ## [666] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;You\u0026quot; ## [671] \u0026quot;Dots\u0026quot; \u0026quot;Put\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;See\u0026quot; ## [676] \u0026quot;Slide\u0026quot; \u0026quot;Many\u0026quot; \u0026quot;We\u0026quot; \u0026quot;No\u0026quot; \u0026quot;Dig\u0026quot; ## [681] \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Green\u0026quot; \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; ## [686] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Seven\u0026quot; \u0026quot;Our\u0026quot; ## [691] \u0026quot;The\u0026quot; \u0026quot;It\u0026quot; \u0026quot;One\u0026quot; \u0026quot;Take\u0026quot; \u0026quot;The\u0026quot; ## [696] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;Stop\u0026quot; \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; ## [701] \u0026quot;Open\u0026quot; \u0026quot;Fish\u0026quot; \u0026quot;Dip\u0026quot; \u0026quot;Will\u0026quot; \u0026quot;The\u0026quot; ## [706] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;He\u0026quot; \u0026quot;Leave\u0026quot; \u0026quot;The\u0026quot; ## [711] \u0026quot;A\u0026quot; \u0026quot;The\u0026quot; \u0026quot;She\u0026quot; \u0026quot;A\u0026quot; \u0026quot;Small\u0026quot; ## [716] \u0026quot;The\u0026quot; \u0026quot;The\u0026quot; \u0026quot;A\u0026quot; \u0026quot;She\u0026quot; \u0026quot;When\u0026quot;\rArtigo definido \u0026ldquo;the\u0026rdquo; ou indefinido \u0026ldquo;a\u0026rdquo; seguido de uma palavra\nstr_extract(sentences, \u0026#34;(( the | a )[^ .,]+)\u0026#34;) ## [1] \u0026quot; the smooth\u0026quot; \u0026quot; the sheet\u0026quot; \u0026quot; the depth\u0026quot; \u0026quot; a chicken\u0026quot; ## [5] NA NA \u0026quot; the parked\u0026quot; NA ## [9] NA NA \u0026quot; the sun\u0026quot; NA ## [13] \u0026quot; the huge\u0026quot; \u0026quot; the ball\u0026quot; \u0026quot; the woman\u0026quot; \u0026quot; the evening\u0026quot; ## [17] NA \u0026quot; the man's\u0026quot; \u0026quot; the sea\u0026quot; \u0026quot; the booth\u0026quot; ## [21] \u0026quot; a hole\u0026quot; \u0026quot; the bent\u0026quot; \u0026quot; the pants\u0026quot; NA ## [25] \u0026quot; the view\u0026quot; \u0026quot; the tank\u0026quot; NA \u0026quot; the tall\u0026quot; ## [29] \u0026quot; the same\u0026quot; NA \u0026quot; the load\u0026quot; \u0026quot; the winding\u0026quot; ## [33] \u0026quot; the size\u0026quot; \u0026quot; the grease\u0026quot; \u0026quot; the coat\u0026quot; NA ## [37] NA NA \u0026quot; the bell\u0026quot; NA ## [41] \u0026quot; the state\u0026quot; \u0026quot; the sharp\u0026quot; \u0026quot; the third\u0026quot; \u0026quot; the hot\u0026quot; ## [45] \u0026quot; the cool\u0026quot; \u0026quot; the square\u0026quot; \u0026quot; the seven\u0026quot; \u0026quot; the fence\u0026quot; ## [49] \u0026quot; the drug\u0026quot; NA \u0026quot; the coat\u0026quot; \u0026quot; the mouse\u0026quot; ## [53] NA \u0026quot; a flop\u0026quot; \u0026quot; a tool\u0026quot; NA ## [57] \u0026quot; the soldiers\u0026quot; NA \u0026quot; a rosebush\u0026quot; \u0026quot; the raging\u0026quot; ## [61] \u0026quot; the slide\u0026quot; \u0026quot; a pencil\u0026quot; \u0026quot; the hardware\u0026quot; \u0026quot; the third\u0026quot; ## [65] \u0026quot; the field\u0026quot; NA \u0026quot; the floor\u0026quot; \u0026quot; a grand\u0026quot; ## [69] \u0026quot; the edge\u0026quot; \u0026quot; the cue\u0026quot; \u0026quot; the point\u0026quot; \u0026quot; the sand\u0026quot; ## [73] \u0026quot; the finished\u0026quot; \u0026quot; a fight\u0026quot; NA \u0026quot; a nice\u0026quot; ## [77] \u0026quot; the car\u0026quot; NA \u0026quot; a thin\u0026quot; NA ## [81] \u0026quot; the big\u0026quot; \u0026quot; the cat\u0026quot; NA NA ## [85] NA \u0026quot; the fence\u0026quot; \u0026quot; the pie\u0026quot; NA ## [89] \u0026quot; the barn\u0026quot; \u0026quot; a limb\u0026quot; \u0026quot; the street\u0026quot; \u0026quot; the blue\u0026quot; ## [93] NA \u0026quot; the clear\u0026quot; NA \u0026quot; the boat\u0026quot; ## [97] NA NA NA NA ## [101] NA \u0026quot; the other\u0026quot; NA \u0026quot; the crate\u0026quot; ## [105] \u0026quot; the sum\u0026quot; NA NA NA ## [109] \u0026quot; the high\u0026quot; \u0026quot; the vat\u0026quot; \u0026quot; the pine\u0026quot; \u0026quot; the fall\u0026quot; ## [113] \u0026quot; the wind\u0026quot; \u0026quot; the log\u0026quot; \u0026quot; the logs\u0026quot; NA ## [117] \u0026quot; the carpet\u0026quot; \u0026quot; a weed\u0026quot; NA \u0026quot; the simplest\u0026quot; ## [121] NA \u0026quot; the less\u0026quot; \u0026quot; the show\u0026quot; NA ## [125] \u0026quot; the most\u0026quot; NA \u0026quot; a rusty\u0026quot; \u0026quot; the farther\u0026quot; ## [129] \u0026quot; the heat\u0026quot; NA \u0026quot; a swim\u0026quot; \u0026quot; the same\u0026quot; ## [133] \u0026quot; the bright\u0026quot; NA \u0026quot; the eyes\u0026quot; \u0026quot; the wise\u0026quot; ## [137] \u0026quot; a fond\u0026quot; NA \u0026quot; a bad\u0026quot; \u0026quot; a strong\u0026quot; ## [141] \u0026quot; the rusty\u0026quot; \u0026quot; the results\u0026quot; NA \u0026quot; the right\u0026quot; ## [145] \u0026quot; a high\u0026quot; NA \u0026quot; a graceful\u0026quot; \u0026quot; the blotter\u0026quot; ## [149] \u0026quot; the front\u0026quot; \u0026quot; a hole\u0026quot; \u0026quot; the tin\u0026quot; NA ## [153] \u0026quot; a new\u0026quot; \u0026quot; the couch\u0026quot; NA NA ## [157] \u0026quot; the crew\u0026quot; \u0026quot; the coin\u0026quot; \u0026quot; the torn\u0026quot; NA ## [161] \u0026quot; the back\u0026quot; \u0026quot; the air\u0026quot; \u0026quot; the two\u0026quot; NA ## [165] \u0026quot; the prize\u0026quot; NA \u0026quot; a dull\u0026quot; \u0026quot; the skill\u0026quot; ## [169] NA \u0026quot; the hot\u0026quot; \u0026quot; the broken\u0026quot; \u0026quot; the small\u0026quot; ## [173] \u0026quot; a sound\u0026quot; NA \u0026quot; the stone\u0026quot; \u0026quot; the best\u0026quot; ## [177] NA NA \u0026quot; the ship\u0026quot; \u0026quot; the store's\u0026quot; ## [181] NA NA NA \u0026quot; the players\u0026quot; ## [185] NA \u0026quot; the column\u0026quot; \u0026quot; a good\u0026quot; \u0026quot; the flood\u0026quot; ## [189] \u0026quot; a head\u0026quot; NA \u0026quot; a fig\u0026quot; \u0026quot; a fire\u0026quot; ## [193] \u0026quot; the noise\u0026quot; NA \u0026quot; a buyer\u0026quot; \u0026quot; the ice\u0026quot; ## [197] \u0026quot; the next\u0026quot; \u0026quot; the third\u0026quot; NA \u0026quot; the oat\u0026quot; ## [201] \u0026quot; the attic\u0026quot; NA \u0026quot; the soap\u0026quot; \u0026quot; a tall\u0026quot; ## [205] NA \u0026quot; the rink\u0026quot; \u0026quot; the dance\u0026quot; \u0026quot; the new\u0026quot; ## [209] \u0026quot; the inn\u0026quot; \u0026quot; the worst\u0026quot; NA \u0026quot; the second\u0026quot; ## [213] \u0026quot; the wall\u0026quot; \u0026quot; a wooden\u0026quot; NA NA ## [217] NA NA NA \u0026quot; the bank\u0026quot; ## [221] NA \u0026quot; a young\u0026quot; NA \u0026quot; a steady\u0026quot; ## [225] \u0026quot; the axe\u0026quot; NA \u0026quot; a loud\u0026quot; NA ## [229] \u0026quot; the rubbish\u0026quot; \u0026quot; the gold\u0026quot; \u0026quot; the court\u0026quot; NA ## [233] NA \u0026quot; the raft\u0026quot; NA NA ## [237] NA \u0026quot; the rope\u0026quot; NA \u0026quot; the best\u0026quot; ## [241] \u0026quot; the islands\u0026quot; NA \u0026quot; the world\u0026quot; \u0026quot; the egg\u0026quot; ## [245] NA NA \u0026quot; a bright\u0026quot; NA ## [249] NA \u0026quot; the fence\u0026quot; \u0026quot; the curtain\u0026quot; \u0026quot; the middle\u0026quot; ## [253] \u0026quot; the same\u0026quot; NA NA NA ## [257] \u0026quot; a compass\u0026quot; NA NA NA ## [261] \u0026quot; the front\u0026quot; \u0026quot; the pail\u0026quot; \u0026quot; the big\u0026quot; NA ## [265] NA \u0026quot; the empty\u0026quot; NA \u0026quot; the brown\u0026quot; ## [269] NA \u0026quot; the hot-cross\u0026quot; \u0026quot; the field\u0026quot; \u0026quot; the twin\u0026quot; ## [273] \u0026quot; the cord\u0026quot; \u0026quot; the smuggled\u0026quot; \u0026quot; the corner\u0026quot; \u0026quot; the bond\u0026quot; ## [277] \u0026quot; the ruins\u0026quot; \u0026quot; a mouldy\u0026quot; \u0026quot; a pine\u0026quot; \u0026quot; the cloth\u0026quot; ## [281] NA \u0026quot; the swan\u0026quot; \u0026quot; the screen\u0026quot; NA ## [285] \u0026quot; the end\u0026quot; \u0026quot; the clay\u0026quot; \u0026quot; a smooth\u0026quot; NA ## [289] \u0026quot; the crackers\u0026quot; NA \u0026quot; the high\u0026quot; \u0026quot; a pierced\u0026quot; ## [293] NA \u0026quot; the log\u0026quot; \u0026quot; the stalk\u0026quot; NA ## [297] NA NA \u0026quot; a brew\u0026quot; NA ## [301] \u0026quot; the box\u0026quot; \u0026quot; the window\u0026quot; \u0026quot; the workmen's\u0026quot; \u0026quot; the breeze\u0026quot; ## [305] \u0026quot; a swan\u0026quot; \u0026quot; the tire\u0026quot; \u0026quot; the old\u0026quot; \u0026quot; the last\u0026quot; ## [309] NA NA NA NA ## [313] \u0026quot; a person\u0026quot; NA \u0026quot; the sleeping\u0026quot; \u0026quot; the fire\u0026quot; ## [317] \u0026quot; the round\u0026quot; NA NA NA ## [321] \u0026quot; the ink\u0026quot; \u0026quot; a big\u0026quot; NA \u0026quot; the records\u0026quot; ## [325] \u0026quot; the snow\u0026quot; \u0026quot; the sun's\u0026quot; NA \u0026quot; the wall\u0026quot; ## [329] NA \u0026quot; the cool\u0026quot; NA NA ## [333] NA \u0026quot; the dog\u0026quot; \u0026quot; a book\u0026quot; \u0026quot; the fine\u0026quot; ## [337] \u0026quot; the group\u0026quot; \u0026quot; the central\u0026quot; \u0026quot; the rough\u0026quot; NA ## [341] \u0026quot; the new\u0026quot; \u0026quot; the lathe\u0026quot; \u0026quot; the pole\u0026quot; \u0026quot; a dish\u0026quot; ## [345] NA NA NA \u0026quot; the day\u0026quot; ## [349] \u0026quot; the strip\u0026quot; NA \u0026quot; the stew\u0026quot; NA ## [353] \u0026quot; the woods\u0026quot; \u0026quot; the road\u0026quot; \u0026quot; the clear\u0026quot; NA ## [357] \u0026quot; a king's\u0026quot; NA NA \u0026quot; a good\u0026quot; ## [361] \u0026quot; the white\u0026quot; \u0026quot; the stream\u0026quot; \u0026quot; the lead\u0026quot; \u0026quot; the lock\u0026quot; ## [365] \u0026quot; the council\u0026quot; NA NA \u0026quot; the red\u0026quot; ## [369] \u0026quot; the ledge\u0026quot; \u0026quot; the sheep\u0026quot; \u0026quot; a lot\u0026quot; \u0026quot; the spot\u0026quot; ## [373] \u0026quot; a fair\u0026quot; NA NA NA ## [377] NA NA NA \u0026quot; the game\u0026quot; ## [381] \u0026quot; a long\u0026quot; \u0026quot; the strong\u0026quot; NA NA ## [385] NA \u0026quot; the rain\u0026quot; NA \u0026quot; the hot\u0026quot; ## [389] \u0026quot; the story\u0026quot; \u0026quot; the eastern\u0026quot; \u0026quot; the line\u0026quot; NA ## [393] \u0026quot; a dense\u0026quot; \u0026quot; the knee\u0026quot; NA \u0026quot; the shaky\u0026quot; ## [397] \u0026quot; the odor\u0026quot; NA \u0026quot; the sail\u0026quot; NA ## [401] NA \u0026quot; the dart\u0026quot; NA \u0026quot; a new\u0026quot; ## [405] \u0026quot; the base\u0026quot; \u0026quot; a dog\u0026quot; \u0026quot; a dime\u0026quot; NA ## [409] NA NA NA NA ## [413] \u0026quot; the shore\u0026quot; \u0026quot; the wall\u0026quot; NA NA ## [417] \u0026quot; the oath\u0026quot; \u0026quot; the sill\u0026quot; \u0026quot; the steel\u0026quot; \u0026quot; a lag\u0026quot; ## [421] \u0026quot; the spring\u0026quot; \u0026quot; the chart\u0026quot; NA \u0026quot; the crowd\u0026quot; ## [425] NA \u0026quot; the wide\u0026quot; \u0026quot; the dust\u0026quot; NA ## [429] NA \u0026quot; the porch\u0026quot; \u0026quot; the finish\u0026quot; \u0026quot; the deep\u0026quot; ## [433] \u0026quot; the dice\u0026quot; NA \u0026quot; the frail\u0026quot; \u0026quot; the valve\u0026quot; ## [437] \u0026quot; the shoe\u0026quot; NA NA NA ## [441] \u0026quot; the sausage\u0026quot; \u0026quot; the rose\u0026quot; \u0026quot; the colt\u0026quot; \u0026quot; a hot\u0026quot; ## [445] NA \u0026quot; a feather\u0026quot; \u0026quot; the bike\u0026quot; \u0026quot; the ashes\u0026quot; ## [449] NA \u0026quot; the used\u0026quot; \u0026quot; a neat\u0026quot; NA ## [453] \u0026quot; the tall\u0026quot; NA \u0026quot; a thin\u0026quot; \u0026quot; the lantern\u0026quot; ## [457] \u0026quot; the soft\u0026quot; \u0026quot; the tenth\u0026quot; NA \u0026quot; a good\u0026quot; ## [461] NA \u0026quot; a vest\u0026quot; NA \u0026quot; the figs\u0026quot; ## [465] \u0026quot; the door\u0026quot; \u0026quot; the fire\u0026quot; NA \u0026quot; the print\u0026quot; ## [469] \u0026quot; the limits\u0026quot; NA \u0026quot; the high\u0026quot; NA ## [473] NA NA \u0026quot; the old\u0026quot; \u0026quot; the dark\u0026quot; ## [477] NA NA \u0026quot; a shaggy\u0026quot; \u0026quot; the corner\u0026quot; ## [481] NA \u0026quot; the hatch\u0026quot; NA \u0026quot; the walnut\u0026quot; ## [485] \u0026quot; the form\u0026quot; \u0026quot; the stuff\u0026quot; \u0026quot; the most\u0026quot; NA ## [489] NA \u0026quot; the rear\u0026quot; \u0026quot; a blue\u0026quot; \u0026quot; a food\u0026quot; ## [493] NA NA NA \u0026quot; the sheet\u0026quot; ## [497] \u0026quot; the earth\u0026quot; NA \u0026quot; the tailor\u0026quot; \u0026quot; a chance\u0026quot; ## [501] \u0026quot; the dust\u0026quot; NA \u0026quot; the stone\u0026quot; NA ## [505] \u0026quot; the weather\u0026quot; NA NA \u0026quot; a source\u0026quot; ## [509] NA \u0026quot; the writer\u0026quot; NA NA ## [513] \u0026quot; a queen's\u0026quot; \u0026quot; the round\u0026quot; NA NA ## [517] \u0026quot; a wild\u0026quot; NA \u0026quot; a white\u0026quot; \u0026quot; the hot\u0026quot; ## [521] \u0026quot; the pedal\u0026quot; NA \u0026quot; the landing\u0026quot; \u0026quot; the debt\u0026quot; ## [525] \u0026quot; the pearl\u0026quot; NA \u0026quot; the far\u0026quot; NA ## [529] NA \u0026quot; a fine\u0026quot; \u0026quot; the pit\u0026quot; NA ## [533] \u0026quot; a just\u0026quot; \u0026quot; the tent\u0026quot; \u0026quot; a slow\u0026quot; NA ## [537] NA \u0026quot; the mails\u0026quot; NA NA ## [541] \u0026quot; a strong\u0026quot; \u0026quot; the top\u0026quot; NA \u0026quot; the way\u0026quot; ## [545] NA NA NA \u0026quot; the alarm\u0026quot; ## [549] \u0026quot; the meter\u0026quot; \u0026quot; the poor\u0026quot; NA NA ## [553] NA \u0026quot; the edges\u0026quot; \u0026quot; the piny\u0026quot; NA ## [557] NA \u0026quot; a frog\u0026quot; NA \u0026quot; the dam\u0026quot; ## [561] \u0026quot; the sockets\u0026quot; \u0026quot; the dense\u0026quot; NA \u0026quot; the spark\u0026quot; ## [565] \u0026quot; the sword\u0026quot; \u0026quot; the thin\u0026quot; \u0026quot; the path\u0026quot; NA ## [569] \u0026quot; the edge\u0026quot; \u0026quot; the old\u0026quot; \u0026quot; a band\u0026quot; \u0026quot; the length\u0026quot; ## [573] \u0026quot; a mass\u0026quot; \u0026quot; the package\u0026quot; \u0026quot; the green\u0026quot; \u0026quot; the brown\u0026quot; ## [577] \u0026quot; the high\u0026quot; NA \u0026quot; the hammer\u0026quot; \u0026quot; the twelfth\u0026quot; ## [581] NA \u0026quot; the gun\u0026quot; \u0026quot; the public\u0026quot; \u0026quot; the screw\u0026quot; ## [585] \u0026quot; the hatch\u0026quot; \u0026quot; the twine\u0026quot; NA \u0026quot; the catch\u0026quot; ## [589] \u0026quot; the weak\u0026quot; NA \u0026quot; the boys\u0026quot; \u0026quot; the cord\u0026quot; ## [593] \u0026quot; the tray\u0026quot; \u0026quot; a stately\u0026quot; \u0026quot; a swell\u0026quot; \u0026quot; the piece\u0026quot; ## [597] NA NA \u0026quot; the trust\u0026quot; \u0026quot; the high\u0026quot; ## [601] NA \u0026quot; the tall\u0026quot; \u0026quot; a strong\u0026quot; \u0026quot; the park\u0026quot; ## [605] \u0026quot; the new\u0026quot; \u0026quot; the frost\u0026quot; NA \u0026quot; the middle\u0026quot; ## [609] \u0026quot; a ten\u0026quot; \u0026quot; the lofty\u0026quot; \u0026quot; the school\u0026quot; \u0026quot; the best\u0026quot; ## [613] \u0026quot; a brown\u0026quot; \u0026quot; the perch\u0026quot; NA NA ## [617] \u0026quot; the northern\u0026quot; \u0026quot; a sweet\u0026quot; \u0026quot; the straw\u0026quot; \u0026quot; the beck\u0026quot; ## [621] \u0026quot; the old\u0026quot; \u0026quot; the thing\u0026quot; \u0026quot; the most\u0026quot; NA ## [625] \u0026quot; the street\u0026quot; \u0026quot; the cruiser\u0026quot; \u0026quot; the braid\u0026quot; \u0026quot; the lawyer\u0026quot; ## [629] NA NA \u0026quot; a thin\u0026quot; \u0026quot; a sleek\u0026quot; ## [633] \u0026quot; the left\u0026quot; \u0026quot; the boy\u0026quot; \u0026quot; the mark\u0026quot; \u0026quot; the kits\u0026quot; ## [637] \u0026quot; the round\u0026quot; NA NA \u0026quot; a door\u0026quot; ## [641] NA NA \u0026quot; the same\u0026quot; \u0026quot; the west\u0026quot; ## [645] NA \u0026quot; the tall\u0026quot; \u0026quot; the horse\u0026quot; \u0026quot; the coal\u0026quot; ## [649] NA NA \u0026quot; the far\u0026quot; \u0026quot; a sharp\u0026quot; ## [653] NA \u0026quot; the treadmill\u0026quot; \u0026quot; the contest\u0026quot; NA ## [657] \u0026quot; a fine\u0026quot; \u0026quot; the main\u0026quot; NA \u0026quot; the stale\u0026quot; ## [661] NA \u0026quot; the jar\u0026quot; \u0026quot; the boat\u0026quot; \u0026quot; the lamp\u0026quot; ## [665] \u0026quot; a card\u0026quot; \u0026quot; the dull\u0026quot; \u0026quot; the plan\u0026quot; NA ## [669] NA \u0026quot; a cold\u0026quot; \u0026quot; the black\u0026quot; \u0026quot; the chart\u0026quot; ## [673] NA \u0026quot; the dim\u0026quot; \u0026quot; the player\u0026quot; \u0026quot; the bill\u0026quot; ## [677] \u0026quot; the job\u0026quot; NA \u0026quot; the way\u0026quot; \u0026quot; the earth\u0026quot; ## [681] \u0026quot; a drenching\u0026quot; NA \u0026quot; the punch\u0026quot; \u0026quot; the moving\u0026quot; ## [685] NA \u0026quot; the side\u0026quot; NA \u0026quot; the burnt\u0026quot; ## [689] NA NA \u0026quot; the sale\u0026quot; \u0026quot; a bad\u0026quot; ## [693] \u0026quot; the board\u0026quot; \u0026quot; the match\u0026quot; \u0026quot; the contents\u0026quot; NA ## [697] \u0026quot; the town\u0026quot; \u0026quot; the hard\u0026quot; NA \u0026quot; the leash\u0026quot; ## [701] \u0026quot; the first\u0026quot; \u0026quot; the net\u0026quot; \u0026quot; the pail\u0026quot; NA ## [705] \u0026quot; the ground\u0026quot; \u0026quot; the show\u0026quot; \u0026quot; the throne\u0026quot; \u0026quot; the boy\u0026quot; ## [709] NA NA NA \u0026quot; a year\u0026quot; ## [713] \u0026quot; a cat\u0026quot; \u0026quot; the sandy\u0026quot; NA NA ## [717] NA \u0026quot; the barn\u0026quot; NA \u0026quot; the bell\u0026quot;\rFerramenta: Substituindo padrões #  Substituir vogais por *\nphrase \u0026lt;- sentences[3] str_replace(phrase, \u0026#34;[aeiouAEIOU]\u0026#34;, \u0026#34;*\u0026#34;) # troca a primeira ocorrência ## [1] \u0026quot;*t's easy to tell the depth of a well.\u0026quot;\rstr_replace_all(phrase, \u0026#34;[aeiouAEIOU]\u0026#34;, \u0026#34;*\u0026#34;) # troca todas as ocorrências ## [1] \u0026quot;*t's **sy t* t*ll th* d*pth *f * w*ll.\u0026quot;\rFerramenta: quebrando strings #  str_split(phrase, \u0026#34; \u0026#34;) # retorna uma lista ## [[1]]\r## [1] \u0026quot;It's\u0026quot; \u0026quot;easy\u0026quot; \u0026quot;to\u0026quot; \u0026quot;tell\u0026quot; \u0026quot;the\u0026quot; \u0026quot;depth\u0026quot; \u0026quot;of\u0026quot; \u0026quot;a\u0026quot; \u0026quot;well.\u0026quot;\rOutras funções interessantes:\nstr_to_upper(\u0026#34;Maçã\u0026#34;, locale = \u0026#34;pt\u0026#34;) # locale: pt de português ## [1] \u0026quot;MAÇÃ\u0026quot;\rstringi::stri_trans_general(\u0026#34;é uma maçã\u0026#34;, \u0026#34;Latin-ASCII\u0026#34;) # tranasformar formato de string de um encoder para outro, no caso, retirou ou acentos da frase ## [1] \u0026quot;e uma maca\u0026quot;\r"});index.add({'id':8,'href':'/Capacitacoes/Econometria/Econometria/','title':"Regressão Linear no R",'section':"Capacitacoes",'content':"knitr::opts_chunk$set(message = FALSE) Pacotes utilizados para a regressão linear #  \rlibrary(skimr) Ferramenta para análise exploratória dos dados.\nlibrary(tidyverse) ## Warning: package 'tidyverse' was built under R version 4.0.3\r## Warning: package 'tibble' was built under R version 4.0.3\r## Warning: package 'readr' was built under R version 4.0.3\rFerramenta completa para análise de dados.\nlibrary(tidymodels) ## Warning: package 'tidymodels' was built under R version 4.0.3\r## Warning: package 'broom' was built under R version 4.0.3\r## Warning: package 'dials' was built under R version 4.0.3\r## Warning: package 'modeldata' was built under R version 4.0.3\r## Warning: package 'parsnip' was built under R version 4.0.3\r## Warning: package 'recipes' was built under R version 4.0.3\r## Warning: package 'rsample' was built under R version 4.0.3\r## Warning: package 'tune' was built under R version 4.0.3\r## Warning: package 'workflows' was built under R version 4.0.3\rAlém de ser uma forte ferramenta de modelagem (utilizando o parsnip, que não veremos por agora), inclui o pacote broom, que transforma o output de um modelo de regressão linear em uma base de dados tidy.\nlibrary(olsrr) Possui diversos testes que validam as suposições do modelo de regressão linear.\nlibrary(tseries) Possui o teste jarque-bera, que testa a normalidade de um conjunto de dados. Em geral o Shapiro-Wilk test performa melhor, mas o teste Jarque-Bera é o ensinado no curso de econometria.\nlibrary(estimatr) ## Warning: package 'estimatr' was built under R version 4.0.3\rPossui uma função de regressão linear com erros padrões robustos, que nos ajuda a contornar a heterocedasticidade.\nlibrary(AER) ## Warning: package 'car' was built under R version 4.0.3\r## Warning: package 'sandwich' was built under R version 4.0.3\rPossui uma função de regressão com variáveis instrumentais, realizando a regressão linear por meio do método 2SLS (Two-Stage Least Squares).\nO único elemento diferente do curso tradicional de econometria (além da aplicação no R) é o uso do teste Breusch-Pagan de heterocedasticidade ao invés do teste de White. Apesar de ser mais fácil de pronunciar, o teste de White não é feito de forma satisfatória no R. Contudo, ele é apenas um caso especial do teste Breusch-Pagan. Além disso, o teste de White é tão específico que pode indicar outros problemas no modelo que não a heterocedasticidade, não indicando qual o problema encontrado. Dessa forma, o Breusch-Pagan é uma forma menos confusa e mais objetiva de realizar esse teste.\n\rBase utilizada #  \rA título de exemplo, utilizaremos a clássica base mtcars, já presente no R. Como ela vem como um data.frame, transformarei ela em um tibble para mais fácil manipulação. Aproveitarei para realizar uma análise exploratória com o skimr.\ntibble(mtcars) ## # A tibble: 32 x 11\r## mpg cyl disp hp drat wt qsec vs am gear carb\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 21 6 160 110 3.9 2.62 16.5 0 1 4 4\r## 2 21 6 160 110 3.9 2.88 17.0 0 1 4 4\r## 3 22.8 4 108 93 3.85 2.32 18.6 1 1 4 1\r## 4 21.4 6 258 110 3.08 3.22 19.4 1 0 3 1\r## 5 18.7 8 360 175 3.15 3.44 17.0 0 0 3 2\r## 6 18.1 6 225 105 2.76 3.46 20.2 1 0 3 1\r## 7 14.3 8 360 245 3.21 3.57 15.8 0 0 3 4\r## 8 24.4 4 147. 62 3.69 3.19 20 1 0 4 2\r## 9 22.8 4 141. 95 3.92 3.15 22.9 1 0 4 2\r## 10 19.2 6 168. 123 3.92 3.44 18.3 1 0 4 4\r## # ... with 22 more rows\rskim(tibble(mtcars)) Table: Table 1: Data summary\n         Name tibble(mtcars)   Number of rows 32   Number of columns 11   _______________________    Column type frequency:    numeric 11   ________________________    Group variables None    Variable type: numeric\n   skim_variable n_missing complete_rate mean sd p0 p25 p50 p75 p100 hist     mpg 0 1 20.09 6.03 10.40 15.43 19.20 22.80 33.90 ▃▇▅▁▂   cyl 0 1 6.19 1.79 4.00 4.00 6.00 8.00 8.00 ▆▁▃▁▇   disp 0 1 230.72 123.94 71.10 120.83 196.30 326.00 472.00 ▇▃▃▃▂   hp 0 1 146.69 68.56 52.00 96.50 123.00 180.00 335.00 ▇▇▆▃▁   drat 0 1 3.60 0.53 2.76 3.08 3.70 3.92 4.93 ▇▃▇▅▁   wt 0 1 3.22 0.98 1.51 2.58 3.33 3.61 5.42 ▃▃▇▁▂   qsec 0 1 17.85 1.79 14.50 16.89 17.71 18.90 22.90 ▃▇▇▂▁   vs 0 1 0.44 0.50 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▆   am 0 1 0.41 0.50 0.00 0.00 0.00 1.00 1.00 ▇▁▁▁▆   gear 0 1 3.69 0.74 3.00 3.00 4.00 4.00 5.00 ▇▁▆▁▂   carb 0 1 2.81 1.62 1.00 2.00 2.00 4.00 8.00 ▇▂▅▁▁    Apesar de todas as variáveis serem numéricas, é possível observar que algumas delas, como a \u0026lsquo;cyl\u0026rsquo;, são variáveis discretas. Por isso, é desejável que elas sejam tratadas como fatores, não como variáveis contínuas. O código a seguir faz exatamente isso, transformando em fatores apenas as variáveis com menos de 6 valores distintos.\ndf \u0026lt;- tibble(mtcars) %\u0026gt;% mutate_if(~ length(unique(.x)) \u0026lt; 6, as.factor) df ## # A tibble: 32 x 11\r## mpg cyl disp hp drat wt qsec vs am gear carb\r## \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 21 6 160 110 3.9 2.62 16.5 0 1 4 4\r## 2 21 6 160 110 3.9 2.88 17.0 0 1 4 4\r## 3 22.8 4 108 93 3.85 2.32 18.6 1 1 4 1\r## 4 21.4 6 258 110 3.08 3.22 19.4 1 0 3 1\r## 5 18.7 8 360 175 3.15 3.44 17.0 0 0 3 2\r## 6 18.1 6 225 105 2.76 3.46 20.2 1 0 3 1\r## 7 14.3 8 360 245 3.21 3.57 15.8 0 0 3 4\r## 8 24.4 4 147. 62 3.69 3.19 20 1 0 4 2\r## 9 22.8 4 141. 95 3.92 3.15 22.9 1 0 4 2\r## 10 19.2 6 168. 123 3.92 3.44 18.3 1 0 4 4\r## # ... with 22 more rows\r\rExecução da regressão linear #  \rO comando a seguir (lm) utiliza o formato de fórmulas do R. O argumento \u0026ldquo;mpg ~ .\u0026rdquo; (que é a fórmula) pode ser lido como \u0026ldquo;mpg explicado por todas as outras variáveis do modelo\u0026rdquo;. O resultado dessa abordagem é idêntico ao resultado caso a fórmula fosse \u0026ldquo;mpg ~ cyl + disp + hp + drat + wt + qsec + vs + am + gear + carb\u0026rdquo;, ou seja, \u0026ldquo;mpg explicado por todas essas variáveis enunciadas\u0026rdquo;. Contudo, escrever assim é claramente mais trabalhoso. Se você quiser usar a maioria das variáveis, mas não todas, é possível escrever no formato \u0026ldquo;mpg ~ . - cyl\u0026rdquo;, que pode ser lido como \u0026ldquo;mpg explicado por todas as variáveis enunciadas com exceção de \u0026lsquo;cyl\u0026rsquo;\u0026rdquo;.\n\rResultado: #  Sem fct_relevel() #  reg \u0026lt;- lm(mpg ~ ., data = df) reg ## ## Call:\r## lm(formula = mpg ~ ., data = df)\r## ## Coefficients:\r## (Intercept) cyl6 cyl8 disp hp drat ## 15.09262 -1.19940 3.05492 0.01257 -0.05712 0.73577 ## wt qsec vs1 am1 gear4 gear5 ## -3.54512 0.76801 2.48849 3.34736 -0.99922 1.06455 ## carb ## 0.78703\rCom isso, é estimado nosso modelo de regressão linear. Ao imprimirmos \u0026ldquo;reg\u0026rdquo;, o console nos mostra as estimativas dos parâmetros de cada um dos fatores da regressão, mas não nos mostra as estatísticas da regressão.\nÉ interessante notar que, automaticamente, o R reconhece que variáveis em formato de fatores são variáveis dummy e adiciona essas variáveis em quantidade certa, deixando sempre uma dummy como valor base. É possível alterar a dummy base manipulando a variável por meio da função fct_relevel().\nCom fct_relevel() #  df1 \u0026lt;- df %\u0026gt;% mutate(am = fct_relevel(am, \u0026#34;1\u0026#34;)) reg1 \u0026lt;- lm(mpg ~ ., data = df1) reg1 ## ## Call:\r## lm(formula = mpg ~ ., data = df1)\r## ## Coefficients:\r## (Intercept) cyl6 cyl8 disp hp drat ## 18.43997 -1.19940 3.05492 0.01257 -0.05712 0.73577 ## wt qsec vs1 am0 gear4 gear5 ## -3.54512 0.76801 2.48849 -3.34736 -0.99922 1.06455 ## carb ## 0.78703\rÉ possível perceber que, enquanto na regressão anterior o valor \u0026ldquo;0\u0026rdquo; da variável \u0026ldquo;am\u0026rdquo; tinha ficado oculto, usando o fct_relevel() foi possível transformar o valor oculto em \u0026ldquo;1\u0026rdquo;, sendo esse o novo valor base.\n\rAdaptação ao tidyverse #  A função summary pertence ao R base e nos mostra a mesma saída que a função \u0026lsquo;reg\u0026rsquo; do Stata.\nsummary(reg) ## ## Call:\r## lm(formula = mpg ~ ., data = df)\r## ## Residuals:\r## Min 1Q Median 3Q Max ## -3.2015 -1.2319 0.1033 1.1953 4.3085 ## ## Coefficients:\r## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 15.09262 17.13627 0.881 0.3895 ## cyl6 -1.19940 2.38736 -0.502 0.6212 ## cyl8 3.05492 4.82987 0.633 0.5346 ## disp 0.01257 0.01774 0.708 0.4873 ## hp -0.05712 0.03175 -1.799 0.0879 .\r## drat 0.73577 1.98461 0.371 0.7149 ## wt -3.54512 1.90895 -1.857 0.0789 .\r## qsec 0.76801 0.75222 1.021 0.3201 ## vs1 2.48849 2.54015 0.980 0.3396 ## am1 3.34736 2.28948 1.462 0.1601 ## gear4 -0.99922 2.94658 -0.339 0.7382 ## gear5 1.06455 3.02730 0.352 0.7290 ## carb 0.78703 1.03599 0.760 0.4568 ## ---\r## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r## ## Residual standard error: 2.616 on 19 degrees of freedom\r## Multiple R-squared: 0.8845,\tAdjusted R-squared: 0.8116 ## F-statistic: 12.13 on 12 and 19 DF, p-value: 1.764e-06\rEssencialmente, o summary possui as principais estatísticas para a análise do modelo. Contudo, apesar de muito positivo nesse aspecto, peca por não sair em formato tidy. Para isso, usamos o pacote \u0026ldquo;broom\u0026rdquo;, que possui 3 funções muito úteis na análise de regressões. A função tidy() foca nos parâmetros, mostrando seus valores e estatísticas em formato tidy. A função augment() foca nos resultados do modelo, sendo útil para extrair os resíduos e os resíduos padronizados do modelo. Por último, a função glance() foca na qualidade do modelo, analisando medidas como o \\(R^2\\) e o teste F-parcial da regressão.\nÉ bom relembrar que, uma vez com as tabelas tidy, essas poderão ser manipuladas assim como qualquer outro tibble pelo tidyverse.\ntidy(reg) ## # A tibble: 13 x 5\r## term estimate std.error statistic p.value\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 (Intercept) 15.1 17.1 0.881 0.389 ## 2 cyl6 -1.20 2.39 -0.502 0.621 ## 3 cyl8 3.05 4.83 0.633 0.535 ## 4 disp 0.0126 0.0177 0.708 0.487 ## 5 hp -0.0571 0.0317 -1.80 0.0879\r## 6 drat 0.736 1.98 0.371 0.715 ## 7 wt -3.55 1.91 -1.86 0.0789\r## 8 qsec 0.768 0.752 1.02 0.320 ## 9 vs1 2.49 2.54 0.980 0.340 ## 10 am1 3.35 2.29 1.46 0.160 ## 11 gear4 -0.999 2.95 -0.339 0.738 ## 12 gear5 1.06 3.03 0.352 0.729 ## 13 carb 0.787 1.04 0.760 0.457\raugment(reg) ## # A tibble: 32 x 17\r## mpg cyl disp hp drat wt qsec vs am gear carb .fitted\r## \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 21 6 160 110 3.9 2.62 16.5 0 1 4 4 21.3\r## 2 21 6 160 110 3.9 2.88 17.0 0 1 4 4 20.9\r## 3 22.8 4 108 93 3.85 2.32 18.6 1 1 4 1 25.7\r## 4 21.4 6 258 110 3.08 3.22 19.4 1 0 3 1 19.9\r## 5 18.7 8 360 175 3.15 3.44 17.0 0 0 3 2 17.4\r## 6 18.1 6 225 105 2.76 3.46 20.2 1 0 3 1 19.3\r## 7 14.3 8 360 245 3.21 3.57 15.8 0 0 3 4 13.7\r## 8 24.4 4 147. 62 3.69 3.19 20 1 0 4 2 23.2\r## 9 22.8 4 141. 95 3.92 3.15 22.9 1 0 4 2 23.8\r## 10 19.2 6 168. 123 3.92 3.44 18.3 1 0 4 4 18.4\r## # ... with 22 more rows, and 5 more variables: .resid \u0026lt;dbl\u0026gt;, .std.resid \u0026lt;dbl\u0026gt;,\r## # .hat \u0026lt;dbl\u0026gt;, .sigma \u0026lt;dbl\u0026gt;, .cooksd \u0026lt;dbl\u0026gt;\rglance(reg) ## # A tibble: 1 x 12\r## r.squared adj.r.squared sigma statistic p.value df logLik AIC BIC\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 0.885 0.812 2.62 12.1 1.76e-6 12 -67.8 164. 184.\r## # ... with 3 more variables: deviance \u0026lt;dbl\u0026gt;, df.residual \u0026lt;int\u0026gt;, nobs \u0026lt;int\u0026gt;\r\rOutras formas funcionais #  \rPor enquanto tratamos apenas de formas funcionais em que não há manipulação matemática das variáveis. Contudo, existem diversas outras maneiras de modelar uma relação entre variáveis: modelos logarítmicos, quadráticos, etc. Mostraremos agora como fazer essas manipulações agora\nEm um modelo log-nível, log-log ou nível-log, basta aplicar a operação log() na variável desejada. Essa operação funciona dessa maneira simples porque log() entra como uma função, e dessa forma já é reconhecida pelo R como a nova forma funcional da variável.\nlm(mpg ~ log(hp) + cyl, data = df) ## ## Call:\r## lm(formula = mpg ~ log(hp) + cyl, data = df)\r## ## Coefficients:\r## (Intercept) log(hp) cyl6 cyl8 ## 52.346 -5.858 -4.529 -6.090\rNo caso de um modelo quadrático, no entanto, como o operador \u0026ldquo;^\u0026rdquo; não é reconhecido como uma função, simplesmente colocarmos hp^2 não é o suficiente para o modelo reconhecer a variável como uma quadrática.\nlm(mpg ~ hp^2 + cyl, data = df) ## ## Call:\r## lm(formula = mpg ~ hp^2 + cyl, data = df)\r## ## Coefficients:\r## (Intercept) hp cyl6 cyl8 ## 28.65012 -0.02404 -5.96766 -8.52085\rComo podemos observar, o modelo não reconhece o hp como uma variável que deve ser elevada ao quadrado. Isso ocorre por reconhecer apenas a variável, não o operador.\nPara consertar esse problema podemos usar a função I(), que permite que o R interprete a variável como uma quadrática.\nlm(mpg ~ I(hp^2) + cyl, data = df) ## ## Call:\r## lm(formula = mpg ~ I(hp^2) + cyl, data = df)\r## ## Coefficients:\r## (Intercept) I(hp^2) cyl6 cyl8 ## 2.691e+01 -3.460e-05 -6.636e+00 -1.022e+01\r\rInteração #  \ruando o efeito de uma variável explicativa na variável resposta depende do valor de uma outra variável resposta, podemos dizer que há uma interação entre ambas. Esse fenômeno pode ser traduzido como uma multiplicação entre as duas no modelo e é exatamente assim que o R reconhece uma interação.\nSupondo uma interação entre duas variáveis contínuas x1 e x2, podemos interpretar que o efeito da variação de x1 na variável resposta do modelo será diferente dependendo do valor em que a variável x2 estiver. Se a interação ocorrer entre uma variável contínua x1 e uma dummy x2, podemos interpretar que o coeficiente dessa interação representará o efeito adicional de x1 na variável resposta caso a x2 seja igual a um.\nExistem duas formas de realizar essa operação no R:\nPodemos usar o operador \u0026ldquo;*\u0026rdquo;, que vai multiplicar uma variável pela outra e inserir no modelo a interação entre ambas, além de incluir as próprias variáveis de forma isolada.\nlm(mpg ~ hp * cyl, data = df) ## ## Call:\r## lm(formula = mpg ~ hp * cyl, data = df)\r## ## Coefficients:\r## (Intercept) hp cyl6 cyl8 hp:cyl6 hp:cyl8 ## 35.98303 -0.11278 -15.30917 -17.90295 0.10516 0.09853\rDessa forma, é possível observar que o modelo possui, além da interação em si, a variável hp e as variáveis dummys de cyl apresentadas isoladamente.\nÀs vezes isso não é desejável, e para isso usamos o operador \u0026ldquo;:\u0026rdquo;, que nos permite inserir uma interação sem inserir as variáveis isoladamente.\nlm(mpg ~ hp : cyl, data = df) ## ## Call:\r## lm(formula = mpg ~ hp:cyl, data = df)\r## ## Coefficients:\r## (Intercept) hp:cyl4 hp:cyl6 hp:cyl8 ## 25.389444 0.008352 -0.044917 -0.047356\r\rValidando as suposições #  \rO modelo de regressão linear depende de 6 suposições:\n  O modelo de regressão é linear nos parâmetros\n  A amostragem é aleatória\n   independente identicamente distribuída  Existe variação amostral no regressor   os regressores apresentam variação amostral não há relação linear perfeita entre os regressores  A média condicional do erro é zero \\(\\Rightarrow E(\\varepsilon|x_i) = 0\\)   o valor do erro não pode depender do valor de nenhuma variável existe intercepto \\(x_i\\) é exógeno ausência de correlação entre o termo de erro aleatório e as variáveis independentes  Homocedasticidade \\(\\Rightarrow Var(\\varepsilon|x) = \\sigma^2\\)   o termo de erro aleatório tem a mesma variância dado quaisquer conjunto de valores para os regressores  O termo de erro aleatório não observável, \\(\\varepsilon\\), é:   independente dos regressores \\(x_i\\) normalmente distribuído, com média zero e variância \\(\\sigma^2_\\varepsilon\\) \\(\\Rightarrow ~ \\sim N(0;\\sigma^2_\\varepsilon)\\)  \rAlgumas suposições são validadas apenas olhando para o modelo escolhido ou para a amostra, como as suposições 1 a 3. Outras, como a 4, são validadas por meio da argumentação (a 4 exige uma validação da exogeneidade das variáveis independentes do modelo). Outras, como é o caso das suposições 5 e 6, são validadas por meio de testes com o modelo. Estudaremos agora como realizar esses testes no R de maneira simples.\n\rHomocedasticidade #  \rDurante a matéria de econometria, nos acostumamos a usar o teste de White para testar a homodasticidade do modelo. Contudo, um teste mais utilizado e de mais fácil acesso no R é o teste de Breusch-Pagan. No final o resultado é o mesmo: o teste consiste em um teste de hipótese em que Ho é a homocedasticidade e Ha é a heterocedasticidade. Caso o p-valor do teste seja menor do que o nível de significância escolhido, a hipótese nula é rejeitada e o teste passa a indicar a heterocedasticidade do modelo.\nA função abaixo vem do pacote \u0026ldquo;olsrr\u0026rdquo;, que possui diversos testes para o modelo de regressão linear por MQO.\nols_test_breusch_pagan(reg) ## ## Breusch Pagan Test for Heteroskedasticity\r## -----------------------------------------\r## Ho: the variance is constant ## Ha: the variance is not constant ## ## Data ## -------------------------------\r## Response : mpg ## Variables: fitted values of mpg ## ## Test Summary ## ----------------------------\r## DF = 1 ## Chi2 = 0.6807846 ## Prob \u0026gt; Chi2 = 0.4093167\rNo caso desse exemplo o p-valor é 0.4093, maior do que qualquer nível de significância racional. Dessa forma, é possível concluir que há evidências de que a quinta suposição do modelo de regressão linear é válida.\n\rNormalidade dos resíduos #  \rAssim como no teste de homocedasticidade, utilizaremos um teste de normalidade diferente do que vemos na sala de aula. Segundo um paper do Journal of Statistical Computation and Simulation, que analisou a qualidade de cada teste de normalidade empiricamente, o teste jarque-bera, utilizado em sala de aula, tem performance consistentemente pior ao que usaremos no R, o teste Shapiro-Wilk. Além de menos consistente, a interface do teste JB no R é menos consistente com o tidyverse do que a interface do teste SW. Enquanto o SW aceita uma especificação de modelo (reg), o JB aceita apenas um vetor contendo os resíduos do modelo, sendo menos prático.\nContudo, mostrarei a forma de realizar o teste JB no R também, apesar de não indicar.\nO teste SW também é proveniente do pacote \u0026ldquo;olsrr\u0026rdquo;, enquanto o teste JB vem do pacote \u0026ldquo;tseries\u0026rdquo;.\nAssim como no teste de heterocedasticidade, o teste de normalidade é composto por um teste de hipóteses, onde Ho é a normalidade da distribuição e Ha é a não normalidade da distribuição. Um p-valor abaixo do nível de significância indica a não normalidade da distribuição, enquanto um p-valor alto indica a normalidade da distribuição.\nols_test_normality(reg) # Shapiro-Wilk test ## -----------------------------------------------\r## Test Statistic pvalue ## -----------------------------------------------\r## Shapiro-Wilk 0.9503 0.1472 ## Kolmogorov-Smirnov 0.1255 0.6490 ## Cramer-von Mises 2 0.0000 ## Anderson-Darling 0.4316 0.2874 ## -----------------------------------------------\rjarque.bera.test(reg$residuals) # Jarque-Bera test ## ## Jarque Bera Test\r## ## data: reg$residuals\r## X-squared = 1.4055, df = 2, p-value = 0.4952\rDessa forma, quanto no teste JB quanto no SW é possível observar que essa distribuição pode ser considerada normal.\nInteressante notar que o comando ols_test_normality() retorna o resultado de mais de um teste de normalidade. O melhor continua sendo o SW, mas mostra a solidez desse pacote na análise de dados.\n\rCorreção de erros nas suposições #  \rMas e quando as suposições não são validadas? Quando o modelo, não importa o que você faça, continua heterocedástico? Quando você sabe que uma das variáveis é endógena?\nExistem algumas técnicas que são utilizadas para corrigir esses problemas. Abordarei aqui duas delas: a regressão robusta e as variáveis instrumentais.\n\rLidando com variáveis endógenas #  \rQuando um regressor “X1” é identificado com endógeno ao modelo, a estimativa dos parâmetros se torna viesada, anulando a validade da regressão. Portanto, a necessidade de corrigir a endogeneidade torna-se evidente. Uma opção é a utilização de variáveis de instrumento: variáveis capazes de explicar a variável X1, mas que não afetam diretamente a variável resposta Y do modelo. Utilizando variáveis instrumentais conseguimos isolar a porção enxógena de variáveis endógenas, tornando nossas estimativas estatisticamente válidas.\nEssa metodologia também resulta em uma regressão de dois estágios (2SLS), pois está sendo realizada uma regressão para a variável resposta Y do modelo e outra para a variável X1.\nPara a introdução de instrumentos em ume regressão no R, é recomendável a utilização da função ivreg() do pacote ‘AER’. Um exemplo genérico seria:\nivreg(Y ~ X + W | W + Z, \u0026hellip; )\nSendo que Y é a variável resposta do modelo, X é uma variável endógena, W é uma variável exógena de controle e Z é um instrumento para X.\nTrazendo para o nosso exemplo do mtcars (sem ser criterioso em relação a que variáveis são endógenas ou exógenas, só focando na metodologia em si), a regressão pode seguir esse formato:\niv \u0026lt;- ivreg(mpg ~ hp + gear + drat + qsec + disp| . - gear - hp + cyl + carb, data = df) iv ## ## Call:\r## ivreg(formula = mpg ~ hp + gear + drat + qsec + disp | . - gear - hp + cyl + carb, data = df)\r## ## Coefficients:\r## (Intercept) hp gear4 gear5 drat qsec ## -14.46322 -0.02077 -13.10866 -2.29526 8.78119 1.08150 ## disp ## -0.03472\rAo lado esquerdo fica a regressão linear que será utilizada. Ao lado direito, separadas pelo operador \u0026ldquo;|\u0026rdquo;, ficam todas as variáveis exógenas que serão utilizadas, regressores ou variáveis instrumentais. O \u0026ldquo;.\u0026rdquo; utilizado \u0026ldquo;puxa\u0026rdquo; todas as variáveis do modelo como exógenas, e o sinal de menos em \u0026ldquo;gear\u0026rdquo; e \u0026ldquo;hp\u0026rdquo; indica que essas variáveis do modelo na verdade são endógenas. \u0026ldquo;Cyl\u0026rdquo; e \u0026ldquo;carb\u0026rdquo;, como não estão presentes no modelo, são consideradas variáveis intrumentais.\nEsse formato é útil quando o modelo conta com muitos regressores, mas as duas formas de escrever (ditando variável a variável ou usando o \u0026ldquo;.\u0026rdquo; e excluindo as variáveis endógenas) são válidas.\nO formato do resultado desse modelo é bem parecido com o formato da lm(), funcionando com tidy(), glance() e augment(). A única diferença é que a função augment() não retorna os resíduos padronizados do modelo. Contudo, inseri abaixo um código que conserta essa diferença.\ntidy(iv) ## # A tibble: 7 x 5\r## term estimate std.error statistic p.value\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 (Intercept) -14.5 34.8 -0.416 0.681 ## 2 hp -0.0208 0.0457 -0.454 0.653 ## 3 gear4 -13.1 8.95 -1.46 0.156 ## 4 gear5 -2.30 7.53 -0.305 0.763 ## 5 drat 8.78 4.90 1.79 0.0849\r## 6 qsec 1.08 1.30 0.832 0.413 ## 7 disp -0.0347 0.0274 -1.27 0.217\rglance(iv) ## # A tibble: 1 x 8\r## r.squared adj.r.squared sigma statistic p.value df df.residual nobs\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 0.544 0.435 4.53 7.54 0.000109 7 25 32\raugment(iv) %\u0026gt;% mutate(.std.resid = scale(.resid)) ## # A tibble: 32 x 11\r## mpg hp gear drat qsec disp cyl carb .fitted .resid .std.resid[,1]\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 21 110 4 3.9 16.5 160 6 4 16.6 4.36 1.07 ## 2 21 110 4 3.9 17.0 160 6 4 17.2 3.76 0.924\r## 3 22.8 93 4 3.85 18.6 108 4 1 20.7 2.12 0.521\r## 4 21.4 110 3 3.08 19.4 258 6 1 22.4 -0.965 -0.237\r## 5 18.7 175 3 3.15 17.0 360 8 2 15.5 3.23 0.794\r## 6 18.1 105 3 2.76 20.2 225 6 1 21.6 -3.55 -0.872\r## 7 14.3 245 3 3.21 15.8 360 8 4 13.3 1.03 0.254\r## 8 24.4 62 4 3.69 20 147. 4 2 20.1 4.32 1.06 ## 9 22.8 95 4 3.92 22.9 141. 4 2 24.8 -1.96 -0.480\r## 10 19.2 123 4 3.92 18.3 168. 6 4 18.3 0.932 0.229\r## # ... with 22 more rows\r\rLidando com a heterocedasticidade #  \rQuando violada a suposição de homocedasticidade (termo de erro aleatório e de variância constante), há presença de heterocedasticidade em uma regressão. Diante disso, é interessante buscar alguma metodologia que forneça resultados válidos. Uma possibilidade é a realização de uma regressão na forma robusta.\nPara estimar uma regressão robusta no R, basta utilizar o comando lm_robust() do pacote \u0026lsquo;estimatr\u0026rsquo;.\nrob \u0026lt;- lm_robust(mpg ~ ., data = df, se_type = \u0026#34;stata\u0026#34;) rob ## Estimate Std. Error t value Pr(\u0026gt;|t|) CI Lower\r## (Intercept) 15.09261548 16.12119914 0.9361968 0.36091984 -18.6494421\r## cyl6 -1.19939698 2.05023173 -0.5850056 0.56542741 -5.4905813\r## cyl8 3.05491692 4.35714324 0.7011284 0.49172154 -6.0646887\r## disp 0.01256810 0.01630130 0.7709880 0.45019615 -0.0215509\r## hp -0.05711722 0.02780048 -2.0545409 0.05393948 -0.1153043\r## drat 0.73576811 1.73130047 0.4249800 0.67562533 -2.8878854\r## wt -3.54511861 2.03646021 -1.7408239 0.09788459 -7.8074788\r## qsec 0.76801287 0.67413159 1.1392625 0.26875387 -0.6429608\r## vs1 2.48849171 1.39113557 1.7888204 0.08960016 -0.4231885\r## am1 3.34735713 2.11720713 1.5810249 0.13037638 -1.0840083\r## gear4 -0.99921782 2.56628196 -0.3893640 0.70133658 -6.3705077\r## gear5 1.06454635 2.51973516 0.4224834 0.67741481 -4.2093200\r## carb 0.78702815 0.96004620 0.8197815 0.42250588 -1.2223716\r## CI Upper DF\r## (Intercept) 48.83467307 19\r## cyl6 3.09178734 19\r## cyl8 12.17452252 19\r## disp 0.04668711 19\r## hp 0.00106985 19\r## drat 4.35942164 19\r## wt 0.71724160 19\r## qsec 2.17898650 19\r## vs1 5.40017193 19\r## am1 7.77872257 19\r## gear4 4.37207204 19\r## gear5 6.33841266 19\r## carb 2.79642794 19\rOs resultados desse modelo contam com a heterocedasticidade no cálculo dos erros padrões das estimativas dos parâmetros, tornando os testes de hipótese válidos. Importante ressaltar que o modelo robusto não corrige a heterocedasticidade, apenas conta com ela no cálculo\nUm problema é que o formato dessa regressão é diferente do formato do comando lm(), mas passarei aqui pelas análises possíveis na regressão robusta.\nPrimeiramente, quando rodamos o summary() da regressão o resultado é diferente, mas ainda possui as informações importantes: estimativas, erros padrões, p-valor, intervalo de confiança e o \\(R^2\\).\nsummary(rob) ## ## Call:\r## lm_robust(formula = mpg ~ ., data = df, se_type = \u0026quot;stata\u0026quot;)\r## ## Standard error type: HC1 ## ## Coefficients:\r## Estimate Std. Error t value Pr(\u0026gt;|t|) CI Lower CI Upper DF\r## (Intercept) 15.09262 16.1212 0.9362 0.36092 -18.64944 48.83467 19\r## cyl6 -1.19940 2.0502 -0.5850 0.56543 -5.49058 3.09179 19\r## cyl8 3.05492 4.3571 0.7011 0.49172 -6.06469 12.17452 19\r## disp 0.01257 0.0163 0.7710 0.45020 -0.02155 0.04669 19\r## hp -0.05712 0.0278 -2.0545 0.05394 -0.11530 0.00107 19\r## drat 0.73577 1.7313 0.4250 0.67563 -2.88789 4.35942 19\r## wt -3.54512 2.0365 -1.7408 0.09788 -7.80748 0.71724 19\r## qsec 0.76801 0.6741 1.1393 0.26875 -0.64296 2.17899 19\r## vs1 2.48849 1.3911 1.7888 0.08960 -0.42319 5.40017 19\r## am1 3.34736 2.1172 1.5810 0.13038 -1.08401 7.77872 19\r## gear4 -0.99922 2.5663 -0.3894 0.70134 -6.37051 4.37207 19\r## gear5 1.06455 2.5197 0.4225 0.67741 -4.20932 6.33841 19\r## carb 0.78703 0.9600 0.8198 0.42251 -1.22237 2.79643 19\r## ## Multiple R-squared: 0.8845 ,\tAdjusted R-squared: 0.8116 ## F-statistic: 44.74 on 12 and 19 DF, p-value: 2.479e-11\rPara conseguirmos os dados do comando tidy() e do comando glance() no modelo robusto precisamos de apenas um comando a mais: o tibble(). Sem ele o modelo retorna um data frame, não sendo muito condizente com o tidyverse. Com esses comandos o resultado torna-se idêntico ao resultado com regressões lineares não robustas.\ntidy(rob) %\u0026gt;% tibble ## # A tibble: 13 x 9\r## term estimate std.error statistic p.value conf.low conf.high df outcome\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; ## 1 (Inter~ 15.1 16.1 0.936 0.361 -18.6 48.8 19 mpg ## 2 cyl6 -1.20 2.05 -0.585 0.565 -5.49 3.09 19 mpg ## 3 cyl8 3.05 4.36 0.701 0.492 -6.06 12.2 19 mpg ## 4 disp 0.0126 0.0163 0.771 0.450 -0.0216 0.0467 19 mpg ## 5 hp -0.0571 0.0278 -2.05 0.0539 -0.115 0.00107 19 mpg ## 6 drat 0.736 1.73 0.425 0.676 -2.89 4.36 19 mpg ## 7 wt -3.55 2.04 -1.74 0.0979 -7.81 0.717 19 mpg ## 8 qsec 0.768 0.674 1.14 0.269 -0.643 2.18 19 mpg ## 9 vs1 2.49 1.39 1.79 0.0896 -0.423 5.40 19 mpg ## 10 am1 3.35 2.12 1.58 0.130 -1.08 7.78 19 mpg ## 11 gear4 -0.999 2.57 -0.389 0.701 -6.37 4.37 19 mpg ## 12 gear5 1.06 2.52 0.422 0.677 -4.21 6.34 19 mpg ## 13 carb 0.787 0.960 0.820 0.423 -1.22 2.80 19 mpg\rglance(rob) %\u0026gt;% tibble ## # A tibble: 1 x 7\r## r.squared adj.r.squared statistic p.value df.residual nobs se_type\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt; \u0026lt;chr\u0026gt; ## 1 0.885 0.812 44.7 2.48e-11 19 32 HC1\rContudo, o comando augment() não é aplicável a esse formato. Isso dificultaria a extração dos valores previstos, resíduos e dos resíduos padronizados, mas montei esse comando para extrair essas informações da regressão, como se utilizássemos o augment().\nrob$fitted.values %\u0026gt;% tibble %\u0026gt;% bind_cols(mpg = df$mpg) %\u0026gt;% rename(.fitted = \u0026#34;.\u0026#34;) %\u0026gt;% mutate(.resid = mpg - .fitted, .std.resid = scale(.resid)) ## # A tibble: 32 x 4\r## .fitted mpg .resid .std.resid[,1]\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 21.3 21 -0.340 -0.166 ## 2 20.9 21 0.134 0.0653\r## 3 25.7 22.8 -2.86 -1.40 ## 4 19.9 21.4 1.47 0.719 ## 5 17.4 18.7 1.26 0.613 ## 6 19.3 18.1 -1.19 -0.582 ## 7 13.7 14.3 0.602 0.294 ## 8 23.2 24.4 1.18 0.574 ## 9 23.8 22.8 -1.00 -0.490 ## 10 18.4 19.2 0.845 0.412 ## # ... with 22 more rows\rCom esses comandos deve ser possível seguir sua análise do modelo linear sem se preocupar com a heterocedasticidade do mesmo.\n\rVisualização do modelo #  \rAlgumas formas de visualização são muito convenientes para a análise do modelo de regressão linear. Claro que não existem limites, existem diversas visualizações extremamente úteis, mas aqui passarei pelas principais visualizações a serem utilizadas no processo de análise de dados.\n\rRegressão linear simples #  \rModelos de regressão linear simples são bons para visualizarmos a intuição do modelo de regressão linear. Essa análise é dificultada em modelos mais complexos pela existência de mais de duas dimensões no modelo.\nSupondo que iremos realizar uma regressão que explica mpg por hp, podemos visualizar esse modelo diretamente no ggplot utilizando geom_smooth():\nggplot(df, aes(hp, mpg)) + geom_point() + geom_smooth(method = lm, se = FALSE) O método indica ao R que o modelo a ser usado será o de regressão linear (lm) e se = FALSE tira o intervalo de confiança da visualização.\n Distribuição das amostras #  \rPara testarmos se as amostras são de fato aleatórias é conveniente criarmos um identificador de cada amostra. Além disso, é conveniente realizar essa análise com todas as variáveis ao mesmo tempo, contando com os resíduos e as variáveis explicativas. Dessa forma, terminamos com um diagrama que indica se houve qualquer parcialidade na retirada da amostra.\nPortanto, buscamos gráficos aleatórios, sem tendência alguma. Qualquer tendência pode ser problemática.\nNo exemplo, extraímos as informações que queríamos do modelo com augment(), que além das observações inclui o valores previsto e o resíduo de cada observação. Retiramos os últimos dados porque não são tão relevantes nessa análise, inserimos um índice de identificação de cada observação e, por último, transformamos os dados factor em numéricos (usando uma string como formato intermediário) para facilitar as futuras transformações.\nobservations \u0026lt;- reg %\u0026gt;% augment() %\u0026gt;% select(-c(.hat:.cooksd)) %\u0026gt;% mutate(id = seq_along(mpg)) %\u0026gt;% mutate_if(is.factor, as.character) %\u0026gt;% mutate_if(is.character, as.double) Para a visualização é bom utilizar um pequeno hack. Seria muito conveniente fazer essa análise por meio de facetas, sem ter que analisar variável por variável. Porém, facetas funcionam dentro de uma mesma variável, como resolver?\nA solução, apesar de simples, é contraintuitiva. Podemos deixar a tabela não tidy utilizando pivot longer (ao redor da variável ID), resultando em uma coluna com todos os valores e outra indicando a qual variável esse valor pertece, além da coluna que indica o ID de cada observação. Com isso, podemos plotar no eixo x o ID de cada observação e no eixo y o valor das variáveis, utilizando o facet wrap para separar as variáveis.\nobservations %\u0026gt;% mutate_all(as.double) %\u0026gt;% select(-c(.resid, .fitted)) %\u0026gt;% pivot_longer(-id) %\u0026gt;% ggplot(aes(id, value)) + facet_wrap(vars(name), scales = \u0026#34;free\u0026#34;) + geom_point() + labs(x = \u0026#34;ID\u0026#34;, y = \u0026#34;\u0026#34;, title = \u0026#34;Checagem de amostragem aleatória\u0026#34;, subtitle = \u0026#34;subdividida por variável\u0026#34;) \rDispersão dos resíduos por variável #  \rAssim como analisar a distribuição das variáveis ao longo da amostra é útil para verificar a aleatoriedade da amostra, analisar a distribuição dos resíduos de acordo com as variáveis é útil para verificar a ausência de padrões (que são prejudiciais à validade do modelo). Devemos verificar, nessa análise, se existem relações entre as variáveis, se existem outliers e se existe uma discrepância visível na variância de acordo com o valor de uma variável.\nA técnica utilizada será quase idêntica à anterior, com exceção de que pivotaremos ao redor dos resíduos padronizados do modelo, não do ID. Devemos fazer isso pois o que nos interessa é a relação dos resíduos com as outras variáveis, não da ordem das observações.\nobservations %\u0026gt;% mutate_all(as.double) %\u0026gt;% select(-c(.fitted, .resid)) %\u0026gt;% pivot_longer(-.std.resid) %\u0026gt;% ggplot(aes(value, .std.resid)) + facet_wrap(vars(name), scales = \u0026#34;free\u0026#34;) + geom_point() + labs(x = \u0026#34;\u0026#34;, y = \u0026#34;Resíduos padronizados\u0026#34;, title = \u0026#34;Análise dos resíduos\u0026#34;, subtitle = \u0026#34;subdividida por variável\u0026#34;) \rDistribuição dos resíduos #  \rAlém do teste Shapiro-Wilk de normalidade, podemos criar um histograma ou gráfico de densidade para mostrar, visualmente, a distribuição dos resíduos. É possível argumentar, dada a distribuição se essa se assemelha a uma normal ou não.\nobservations %\u0026gt;% ggplot(aes(.resid)) + stat_function(fun = dnorm, args = list(mean = 0, sd = sd(observations$.resid)), geom = \u0026#34;line\u0026#34;, color = \u0026#34;black\u0026#34;) + geom_density(fill = \u0026#34;blue\u0026#34;, alpha = .4) + labs(x = \u0026#34;Resíduos\u0026#34;, y = \u0026#34;Densidade\u0026#34;, title = \u0026#34;Distribuição dos resíduos do modelo\u0026#34;, subtitle = \u0026#34;sobreposta por uma curva normal\u0026#34;) Ademais, podemos usar um qqplot, ou seja, um gráfico que cruza os resíduos do modelo com estimativas normais. Quanto mais próximo de uma reta com inclinação 1, mais próximo de uma normal a distribuição é.\nggplot(observations, aes(sample = .resid)) + geom_qq_line() + geom_qq() + labs(x = \u0026#34;Valores previstos\u0026#34;, y = \u0026#34;Valores reais\u0026#34;, title = \u0026#34;QQPlot dos resíduos\u0026#34;) \rInfluência/Confiança dos estimadores #  \rPor último, vou mostrar uma maneira simples e intuitiva de mostrar os resultados de seu modelo. Uma maneira gráfica de mostrar a significância e o grau de impacto de cada estimador.\nPara isso, iremos extrair do nosso modelo o valor das estimativas que fizemos, além do intervalo de confiança de cada uma delas, por meio da função tidy(), adicionando o parâmetro \u0026ldquo;conf.int = TRUE\u0026rdquo; para incluir os intervalos de confiança na análise. Em seguida, reordenamos os termos de acordo com o grau das estimativas para facilitar a visualização do gráfico.\nPor último, fazemos o gráfico com geom points para indicar o valor das estimativas e geom errorbars para indicar o intervalo de confiança. Como um detalhe a mais, podemos colorir as barras de acordo com a significância, com as barras significantes sendo pretas e as não significantes sendo vermelhas.\nestimations \u0026lt;- reg %\u0026gt;% tidy(conf.int = TRUE) %\u0026gt;% mutate(term = fct_reorder(term, estimate)) ggplot(estimations, aes(estimate, term, color = conf.low \u0026lt; 0 \u0026amp; conf.high \u0026gt; 0)) + geom_point() + geom_errorbar(aes(xmin = conf.low, xmax = conf.high)) + scale_color_manual(values = c(\u0026#34;red\u0026#34;, \u0026#34;black\u0026#34;), labels = c(\u0026#34;Sem significância\u0026#34;, \u0026#34;Com significância\u0026#34;)) + labs(x = \u0026#34;Estimativa\u0026#34;, y = \u0026#34;\u0026#34;, color = \u0026#34;\u0026#34;, title = \u0026#34;Análise da significância de cada estimador\u0026#34;) "});})();